(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[56],{1410:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s}));var a=n(701),r=(n(1692),n(1733));function i(e){return Object(a.a)(new Date(e),"MMMM dd")}function c(e){return Object(a.a)(new Date(e),"dd MMM yyyy HH:mm")}function o(e){return Object(a.a)(new Date(e),"dd/MM/yyyy hh:mm p")}function s(e){return Object(r.a)(new Date(e),{addSuffix:!0})}},1422:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(3),r=n(45),i=n(23),c=n(461),o=n(284),s=n(1364),l=n(63),d=n(1),j=["links","action","heading","moreLink","sx"];function b(e){var t=e.links,n=e.action,b=e.heading,u=e.moreLink,p=void 0===u?[]:u,h=e.sx,x=Object(r.a)(e,j);return Object(d.jsxs)(c.a,{sx:Object(a.a)({mb:5},h),children:[Object(d.jsxs)(c.a,{sx:{display:"flex",alignItems:"center"},children:[Object(d.jsxs)(c.a,{sx:{flexGrow:1},children:[Object(d.jsx)(o.a,{variant:"h4",gutterBottom:!0,children:b}),Object(d.jsx)(l.b,Object(a.a)({links:t},x))]}),n&&Object(d.jsx)(c.a,{sx:{flexShrink:0},children:n})]}),Object(d.jsx)(c.a,{sx:{mt:2},children:Object(i.isString)(p)?Object(d.jsx)(s.a,{href:p,target:"_blank",variant:"body2",children:p}):p.map((function(e){return Object(d.jsx)(s.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},1515:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var a=n(3),r=n(45),i=n(708),c=n(284),o=n(1),s=["searchQuery"];function l(e){var t=e.searchQuery,n=void 0===t?"":t,l=Object(r.a)(e,s);return Object(o.jsxs)(i.a,Object(a.a)(Object(a.a)({},l),{},{children:[Object(o.jsx)(c.a,{gutterBottom:!0,align:"center",variant:"subtitle1",children:"Not found"}),Object(o.jsxs)(c.a,{variant:"body2",align:"center",children:["No results found for \xa0",Object(o.jsxs)("strong",{children:['"',n,'"']}),". Try checking for typos or using complete words."]})]}))}},1594:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(45),r=n(3),i=n(0),c=n(1747),o=n(62),s=n(61),l=n(706),d=n(284),j=n(1),b=["images","photoIndex","setPhotoIndex","isOpen","onClose"];function u(){var e=Object(o.a)(),t="rtl"===e.direction,n=function(t){return{backgroundSize:"24px 24px",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundColor:Object(s.a)(e.palette.grey[900],.8),backgroundImage:'url("/static/icons/controls/'.concat(t,'.svg")')}};return Object(j.jsx)(l.a,{styles:{"& .ReactModalPortal":{"& .ril__outer":{backdropFilter:"blur(8px)",backgroundColor:Object(s.a)(e.palette.grey[900],.88)},"& .ril__toolbar":{height:"auto !important",padding:e.spacing(2,3),backgroundColor:"transparent"},"& .ril__toolbarLeftSide":{display:"none"},"& .ril__toolbarRightSide":{height:"auto !important",padding:0,flexGrow:1,display:"flex",alignItems:"center","& li":{display:"flex",alignItems:"center"},"& li:first-of-type":{flexGrow:1},"& li:not(:first-of-type)":{width:e.spacing(5),height:e.spacing(5),justifyContent:"center",marginLeft:e.spacing(1),borderRadius:e.shape.borderRadius}},"& button:focus":{outline:"none"},"& .ril__toolbarRightSide button":{width:"100%",height:"100%","&.ril__zoomInButton":n("maximize-outline"),"&.ril__zoomOutButton":n("minimize-outline"),"&.ril__closeButton":n("close")},"& .ril__navButtons":{padding:e.spacing(3),borderRadius:e.shape.borderRadiusSm,"&.ril__navButtonPrev":Object(r.a)({left:e.spacing(2),right:"auto"},n(t?"arrow-ios-forward":"arrow-ios-back")),"&.ril__navButtonNext":Object(r.a)({right:e.spacing(2),left:"auto"},n(t?"arrow-ios-back":"arrow-ios-forward"))}}}})}function p(e){var t=e.images,n=e.photoIndex,o=e.setPhotoIndex,s=e.isOpen,l=e.onClose,p=Object(a.a)(e,b);Object(i.useEffect)((function(){document.body.style.overflow=s?"hidden":"unset"}),[s]);var h=[Object(j.jsx)(d.a,{variant:"subtitle2",children:"".concat(n+1," / ").concat(t.length)})];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(u,{}),s&&Object(j.jsx)(c.a,Object(r.a)({animationDuration:120,mainSrc:t[n],nextSrc:t[(n+1)%t.length],prevSrc:t[(n+t.length-1)%t.length],onCloseRequest:l,onMovePrevRequest:function(){return o((n+t.length-1)%t.length)},onMoveNextRequest:function(){return o((n+1)%t.length)},toolbarButtons:h,reactModalStyle:{overlay:{zIndex:9999}}},p))]})}},1890:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var a=n(16),r=n(45),i=n(3),c=(n(2082),n(2131)),o=n(38),s=n(0),l=n(2083),d=n.n(l),j=n(7),b=n(61),u=n(62),p=n(1277),h=n(1366),x=n(1),O=["disabled","value","setValue","alignRight"],f=Object(j.a)("div")({position:"relative"}),m=Object(j.a)("div")((function(e){var t=e.theme;return{bottom:40,overflow:"hidden",position:"absolute",left:t.spacing(-2),boxShadow:t.customShadows.z20,borderRadius:t.shape.borderRadiusMd,"& .emoji-mart":{border:"none",backgroundColor:t.palette.background.paper},"& .emoji-mart-anchor":{color:t.palette.text.disabled,"&:hover, &:focus, &.emoji-mart-anchor-selected":{color:t.palette.text.primary}},"& .emoji-mart-bar":{borderColor:t.palette.divider},"& .emoji-mart-search input":{backgroundColor:"transparent",color:t.palette.text.primary,borderColor:t.palette.grey[50032],"&::placeholder":Object(i.a)(Object(i.a)({},t.typography.body2),{},{color:t.palette.text.disabled})},"& .emoji-mart-search-icon svg":{opacity:1,fill:t.palette.text.disabled},"& .emoji-mart-category-label span":Object(i.a)(Object(i.a)({},t.typography.subtitle2),{},{backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)",color:t.palette.text.primary,backgroundColor:Object(b.a)(t.palette.background.paper,.8)}),"& .emoji-mart-title-label":{color:t.palette.text.primary},"& .emoji-mart-category .emoji-mart-emoji:hover:before":{backgroundColor:t.palette.action.selected},"& .emoji-mart-emoji":{outline:"none"},"& .emoji-mart-preview-name":{color:t.palette.text.primary},"& .emoji-mart-preview-shortname, .emoji-mart-preview-emoticon":{color:t.palette.text.secondary}}}));function g(e){var t,n=e.disabled,l=e.value,j=e.setValue,b=e.alignRight,g=void 0!==b&&b,v=Object(r.a)(e,O),y=Object(u.a)(),w=Object(s.useState)(!1),k=Object(a.a)(w,2),C=k[0],S=k[1];C&&(t=Object(x.jsx)(c.a,{color:y.palette.primary.main,title:"Pick your emoji\u2026",emoji:"point_up",onSelect:function(e){return j(l+e.native)}}));return Object(x.jsx)(p.a,{onClickAway:function(){S(!1)},children:Object(x.jsxs)(f,Object(i.a)(Object(i.a)({},v),{},{children:[Object(x.jsx)(m,{sx:Object(i.a)({},g&&{right:-2,left:"auto !important"}),children:t}),Object(x.jsx)(h.a,{disabled:n,size:"small",onClick:function(e){e.preventDefault(),S(!C)},children:Object(x.jsx)(o.a,{icon:d.a,width:20,height:20})})]}))})}},1906:function(e,t,n){"use strict";n.d(t,"d",(function(){return x})),n.d(t,"b",(function(){return O})),n.d(t,"a",(function(){return f})),n.d(t,"c",(function(){return g}));var a=n(461),r=n(38),i=n(1527),c=n.n(i),o=n(1),s=["jpg","jpeg","gif","bmp","png"],l=["m4v","avi","mpg","mp4","webm"],d=["doc","docx"],j=["xls","xlsx"],b=["ppt","pptx"],u=["pdf"],p=["psd"],h=["ai","esp"];function x(e){return e.split(".").pop()}function O(e){return e.substring(e.lastIndexOf("/")+1).replace(/\.[^/.]+$/,"")}function f(e){return e.split("/").pop()}var m=function(e){return Object(o.jsx)(a.a,{component:"img",src:"/static/icons/file/".concat(e,".svg"),alt:e,sx:{width:28,height:28}})};function g(e){var t;switch(function(e){var t;switch(e.includes(x(e))){case s.includes(x(e)):t="image";break;case l.includes(x(e)):t="video";break;case d.includes(x(e)):t="word";break;case j.includes(x(e)):t="excel";break;case b.includes(x(e)):t="powerpoint";break;case u.includes(x(e)):t="pdf";break;case p.includes(x(e)):t="photoshop";break;case h.includes(x(e)):t="illustrator";break;default:t=x(e)}return t}(e)){case"image":t=Object(o.jsx)(a.a,{component:"img",src:e,alt:e,sx:{width:1,height:1}});break;case"video":t=m("file_type_video");break;case"word":t=m("file_type_word");break;case"excel":t=m("file_type_excel");break;case"powerpoint":t=m("file_type_powerpoint");break;case"pdf":t=m("file_type_pdf");break;case"photoshop":t=m("file_type_photoshop");break;case"illustrator":t=m("file_type_ai");break;default:t=Object(o.jsx)(a.a,{component:r.a,icon:c.a,sx:{width:28,height:28}})}return t}},2924:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return dn}));var a=n(0),r=n(1390),i=n(1389),c=n(377),o=n(519),s=n(116),l=n(96),d=n(465),j=n(1422),b=n(16),u=n(38),p=n(2652),h=n(619),x=n.n(h),O=n(1768),f=n.n(O),m=n(2783),g=n.n(m),v=n(461),y=n(1281),w=n(284),k=n(1377),C=n(1366),S=n(1337),I=n(1376),R=n(2139),_=n(1340),P=n(1341),M=n(1353),W=n(1339),z=n(504),T=n(45),A=n(3),D=n(7),F=n(1),E=["size","status"],B=Object(D.a)("span")((function(e){var t=e.theme,n=e.ownerState,a=n.status,r=n.size;return Object(A.a)(Object(A.a)(Object(A.a)(Object(A.a)(Object(A.a)(Object(A.a)(Object(A.a)(Object(A.a)({width:10,height:10,display:"flex",borderRadius:"50%",alignItems:"center",justifyContent:"center","&:before, &:after":{content:"''",borderRadius:1,backgroundColor:t.palette.common.white}},"small"===r&&{width:8,height:8}),"large"===r&&{width:12,height:12}),"offline"===a&&{backgroundColor:"transparent"}),"away"===a&&{backgroundColor:t.palette.warning.main,"&:before":{width:2,height:4,transform:"translateX(1px) translateY(-1px)"},"&:after":{width:2,height:4,transform:"translateY(1px) rotate(125deg)"}}),"busy"===a&&{backgroundColor:t.palette.error.main,"&:before":{width:6,height:2}}),"online"===a&&{backgroundColor:t.palette.success.main}),"invisible"===a&&{backgroundColor:t.palette.text.disabled,"&:before":{width:6,height:6,borderRadius:"50%"}}),"unread"===a&&{backgroundColor:t.palette.info.main})}));function L(e){var t=e.size,n=void 0===t?"medium":t,a=e.status,r=void 0===a?"offline":a,i=Object(T.a)(e,E);return Object(F.jsx)(B,Object(A.a)({ownerState:{status:r,size:n}},i))}var U=["online","invisible","away"];function G(){var e=Object(a.useRef)(null),t=Object(a.useState)(!1),n=Object(b.a)(t,2),r=n[0],i=n[1],c=Object(a.useState)("online"),o=Object(b.a)(c,2),s=o[0],l=o[1];return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(v.a,{ref:e,sx:{position:"relative"},children:[Object(F.jsx)(z.a,{onClick:function(){i(!0)},sx:{cursor:"pointer",width:48,height:48}}),Object(F.jsx)(L,{status:s,sx:{position:"absolute",bottom:2,right:2}})]}),Object(F.jsxs)(y.a,{open:r,onClose:function(){i(!1)},anchorEl:e.current,anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[Object(F.jsxs)(v.a,{sx:{py:2,pr:1,pl:2.5,display:"flex",alignItems:"center"},children:[Object(F.jsx)(z.a,{}),Object(F.jsxs)(v.a,{sx:{ml:2,mr:3},children:[Object(F.jsx)(w.a,{noWrap:!0,variant:"subtitle1",children:"user.displayName"}),Object(F.jsx)(w.a,{noWrap:!0,variant:"body2",sx:{color:"text.secondary"},children:"user.email"})]}),Object(F.jsx)(k.a,{title:"Log out",children:Object(F.jsx)(C.a,{children:Object(F.jsx)(u.a,{icon:g.a,width:24,height:24})})})]}),Object(F.jsx)(S.a,{}),Object(F.jsxs)(I.a,{children:[Object(F.jsxs)(R.a,{sx:{px:2.5},children:[Object(F.jsx)(_.a,{children:Object(F.jsx)(L,{size:"large",status:s,sx:{m:.75}})}),Object(F.jsx)(P.a,{children:Object(F.jsx)(M.a,{native:!0,value:s,onChange:function(e){l(e.target.value)},sx:{"& svg":{display:"none"},"& select":{p:0,typography:"body2"},"& fieldset":{display:"none"}},children:U.map((function(e){return Object(F.jsx)("option",{value:e,children:Object(p.a)(e)},e)}))})})]}),Object(F.jsxs)(W.a,{sx:{px:2.5},children:[Object(F.jsx)(_.a,{children:Object(F.jsx)(u.a,{icon:f.a,width:24,height:24})}),Object(F.jsx)(P.a,{primary:"Profile",primaryTypographyProps:{variant:"body2"}})]}),Object(F.jsxs)(W.a,{sx:{px:2.5},children:[Object(F.jsx)(_.a,{children:Object(F.jsx)(u.a,{icon:x.a,width:24,height:24})}),Object(F.jsx)(P.a,{primary:"Settings",primaryTypographyProps:{variant:"body2"}})]})]})]})]})}var q=n(1514),N=n.n(q),H=n(1360),Q=n(1277),V=n(1383),Y=n(1386),J=["query","onChange","onFocus","onClickAway"],K=Object(D.a)("div")((function(e){return{marginTop:e.theme.spacing(2)}})),X=Object(D.a)(H.a)((function(e){var t=e.theme;return{transition:t.transitions.create("box-shadow",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"&.Mui-focused":{boxShadow:t.customShadows.z8},"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}));function $(e){var t=e.query,n=e.onChange,a=e.onFocus,r=e.onClickAway,i=Object(T.a)(e,J);return Object(F.jsx)(Q.a,{onClickAway:r,children:Object(F.jsx)(K,Object(A.a)(Object(A.a)({},i),{},{children:Object(F.jsx)(V.a,{fullWidth:!0,size:"small",children:Object(F.jsx)(X,{value:t,onFocus:a,onChange:n,placeholder:"Search contacts...",startAdornment:Object(F.jsx)(Y.a,{position:"start",children:Object(F.jsx)(v.a,{component:u.a,icon:N.a,sx:{color:"text.disabled"}})})})})}))})}var Z=n(20),ee=n(23),te=n(2961),ne=n(1915),ae=n(1359),re=Object(D.a)(W.a)((function(e){var t=e.theme;return{padding:t.spacing(1.5,3),transition:t.transitions.create("all")}})),ie=Object(D.a)("div")({position:"relative",width:48,height:48,"& .MuiAvatar-img":{borderRadius:"50%"},"& .MuiAvatar-root":{width:"100%",height:"100%"}});function ce(e){var t=e.isSelected,n=e.conversation,a=e.isOpenSidebar,r=e.onSelectConversation,i=function(e,t){var n=e.participants.filter((function(e){return e.id!==t})),a=n.reduce((function(e,t){return[].concat(Object(Z.a)(e),[t.name])}),[]).join(", "),r="",i=e.messages[e.messages.length-1];if(i){var c=i.senderId===t?"You: ":"",o="image"===i.contentType?"Sent a photo":i.body;r="".concat(c).concat(o)}return{otherParticipants:n,displayNames:a,displayText:r}}(n,"8864c717-587d-472a-929a-8e5f298024da-0"),c=Object(ee.last)(n.messages).createdAt,o=i.otherParticipants.length>1,s=n.unreadCount>0,l=o&&i.otherParticipants.map((function(e){return e.status})).includes("online");return Object(F.jsxs)(re,{onClick:r,sx:Object(A.a)({},t&&{bgcolor:"action.selected"}),children:[Object(F.jsx)(ne.a,{children:Object(F.jsxs)(v.a,{sx:Object(A.a)({},o&&{position:"relative",width:48,height:48,"& .avatarWrapper":{position:"absolute",width:32,height:32,"&:nth-of-type(1)":{left:0,zIndex:9,bottom:2,"& .MuiAvatar-root":{border:function(e){return"solid 2px ".concat(e.palette.background.paper)}}},"&:nth-of-type(2)":{top:2,right:0}}}),children:[i.otherParticipants.slice(0,2).map((function(e){return Object(F.jsxs)(ie,{className:"avatarWrapper",children:[Object(F.jsx)(ae.a,{alt:e.name,src:e.avatar}),!o&&Object(F.jsx)(L,{status:e.status,sx:{right:2,bottom:2,position:"absolute"}})]},e.id)})),l&&Object(F.jsx)(L,{status:"online",sx:{right:2,bottom:2,position:"absolute"}})]})}),a&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(P.a,{primary:i.displayNames,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"},secondary:i.displayText,secondaryTypographyProps:{noWrap:!0,variant:s?"subtitle2":"body2",color:s?"textPrimary":"textSecondary"}}),Object(F.jsxs)(v.a,{sx:{ml:2,height:44,display:"flex",alignItems:"flex-end",flexDirection:"column"},children:[Object(F.jsx)(v.a,{sx:{mb:1.25,fontSize:12,lineHeight:"22px",whiteSpace:"nowrap",color:"text.disabled"},children:Object(te.a)(new Date(c),{addSuffix:!1})}),s&&Object(F.jsx)(L,{status:"unread",size:"small"})]})]})]})}var oe=n(35),se=["conversations","isOpenSidebar","activeConversationId"];function le(e){var t=e.conversations,n=e.isOpenSidebar,a=e.activeConversationId,r=Object(T.a)(e,se),i=Object(oe.h)();return Object(F.jsx)(I.a,Object(A.a)(Object(A.a)({disablePadding:!0},r),{},{children:t.allIds.map((function(e){return Object(F.jsx)(ce,{isOpenSidebar:n,conversation:t.byId[e],isSelected:a===e,onSelectConversation:function(){return function(e){var n="",a=t.byId[e];n="GROUP"===a.type?a.id:a.participants.find((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id})).username,i("".concat(s.b.chat.root,"/").concat(n))}(e)}},e)}))}))}var de=n(1630),je=n.n(de),be=n(1631),ue=n.n(be),pe=n(1499),he=n.n(pe),xe=n(61),Oe=n(2952),fe=n(2136),me=n(1380),ge=n(1515),ve=["contacts","recipients","onAddRecipients"],ye=Object(D.a)("div")((function(e){return{display:"flex",alignItems:"center",padding:e.theme.spacing(2,3)}})),we=Object(D.a)("div")((function(e){var t=e.theme;return{"& .MuiAutocomplete-root":{minWidth:280,marginLeft:t.spacing(2),"&.Mui-focused .MuiAutocomplete-inputRoot":{boxShadow:t.customShadows.z8}},"& .MuiAutocomplete-inputRoot":{transition:t.transitions.create("box-shadow",{easing:t.transitions.easing.easeInOut,duration:t.transitions.duration.shorter}),"& fieldset":{borderWidth:"1px !important",borderColor:"".concat(t.palette.grey[50032]," !important")}}}}));function ke(e){var t=e.contacts,n=e.recipients,r=e.onAddRecipients,i=Object(T.a)(e,ve),c=Object(a.useState)(""),o=Object(b.a)(c,2),s=o[0],l=o[1];return Object(F.jsxs)(ye,Object(A.a)(Object(A.a)({},i),{},{children:[Object(F.jsx)(w.a,{variant:"subtitle2",sx:{color:"text.secondary"},children:"To:"}),Object(F.jsx)(we,{children:Object(F.jsx)(Oe.a,{multiple:!0,size:"small",disablePortal:!0,popupIcon:null,clearText:null,noOptionsText:Object(F.jsx)(ge.a,{searchQuery:s}),onChange:function(e,t){l(""),r(t)},onInputChange:function(e){l(e.target.value)},options:t,getOptionLabel:function(e){return e.name},renderOption:function(e,t,n){var a=n.inputValue,r=n.selected,i=t.name,c=t.avatar,o=ue()(i,a),s=je()(i,o);return Object(F.jsxs)("li",Object(A.a)(Object(A.a)({},e),{},{children:[Object(F.jsxs)(v.a,{sx:{width:32,height:32,overflow:"hidden",borderRadius:"50%",position:"relative"},children:[Object(F.jsx)(ae.a,{alt:i,src:c}),Object(F.jsx)(v.a,{sx:Object(A.a)({top:0,opacity:0,width:"100%",height:"100%",display:"flex",position:"absolute",alignItems:"center",justifyContent:"center",bgcolor:function(e){return Object(xe.a)(e.palette.grey[900],.8)},transition:function(e){return e.transitions.create("opacity",{easing:e.transitions.easing.easeInOut,duration:e.transitions.duration.shorter})}},r&&{opacity:1,color:"primary.main"}),children:Object(F.jsx)(u.a,{icon:he.a,width:20,height:20})})]}),Object(F.jsx)(v.a,{sx:{ml:2}}),s.map((function(e,t){return Object(F.jsx)(w.a,{variant:"subtitle2",color:e.highlight?"primary":"textPrimary",children:e.text},t)}))]}))},renderTags:function(e,t){return e.map((function(e,n){var r=e.id,i=e.name,c=e.avatar;return Object(a.createElement)(fe.a,Object(A.a)(Object(A.a)({},t({index:n})),{},{key:r,size:"small",label:i,color:"info",avatar:Object(F.jsx)(ae.a,{alt:i,src:c})}))}))},renderInput:function(e){return Object(F.jsx)(me.a,Object(A.a)(Object(A.a)({},e),{},{placeholder:0===n.length?"Recipients":""}))}})})]}))}var Ce=n(2784),Se=n.n(Ce),Ie=n(1905),Re=n.n(Ie),_e=n(1455),Pe=n.n(_e),Me=n(247),We=n.n(Me),ze=n(1916),Te=n(1364),Ae=n(1410),De=n(63),Fe=["participants"],Ee=Object(D.a)("div")((function(e){return{flexShrink:0,minHeight:92,display:"flex",alignItems:"center",padding:e.theme.spacing(0,3)}}));function Be(e){var t=e.participants,n=Object(Z.a)(t)[0];return void 0===n?null:Object(F.jsxs)(v.a,{sx:{display:"flex",alignItems:"center"},children:[Object(F.jsxs)(v.a,{sx:{position:"relative"},children:[Object(F.jsx)(ae.a,{src:n.avatar,alt:n.name}),Object(F.jsx)(L,{status:n.status,sx:{position:"absolute",right:2,bottom:2}})]}),Object(F.jsxs)(v.a,{sx:{ml:2},children:[Object(F.jsx)(w.a,{variant:"subtitle2",children:n.name}),Object(F.jsx)(w.a,{variant:"body2",sx:{color:"text.secondary"},children:"offline"!==n.status?Object(p.a)(n.status):Object(Ae.d)(n.lastActivity)})]})]})}function Le(e){var t=e.participants;return Object(F.jsxs)("div",{children:[Object(F.jsx)(ze.a,{max:3,sx:{mb:.5,"& .MuiAvatar-root":{width:32,height:32}},children:t.map((function(e){return Object(F.jsx)(ae.a,{alt:e.name,src:e.avatar},e.id)}))}),Object(F.jsx)(Te.a,{variant:"body2",underline:"none",component:"button",color:"text.secondary",onClick:function(){},children:Object(F.jsxs)(v.a,{sx:{display:"flex",alignItems:"center"},children:[t.length," persons",Object(F.jsx)(u.a,{icon:We.a})]})})]})}function Ue(e){var t=e.participants,n=Object(T.a)(e,Fe),a=t.length>1;return Object(F.jsxs)(Ee,Object(A.a)(Object(A.a)({},n),{},{children:[a?Object(F.jsx)(Le,{participants:t}):Object(F.jsx)(Be,{participants:t}),Object(F.jsx)(v.a,{sx:{flexGrow:1}}),Object(F.jsx)(De.d,{children:Object(F.jsx)(u.a,{icon:Re.a,width:20,height:20})}),Object(F.jsx)(De.d,{children:Object(F.jsx)(u.a,{icon:Se.a,width:20,height:20})}),Object(F.jsx)(De.d,{children:Object(F.jsx)(u.a,{icon:Pe.a,width:20,height:20})})]}))}var Ge=n(1352),qe=n(2785),Ne=n.n(qe),He=n(1770),Qe=n.n(He),Ve=n(1715),Ye=n.n(Ve),Je=n(1714),Ke=n.n(Je),Xe=n(1381),$e=n(1338),Ze=n(1890),et=["disabled","conversationId","onSend"],tt=Object(D.a)("div")((function(e){return{minHeight:56,display:"flex",position:"relative",alignItems:"center",paddingLeft:e.theme.spacing(2)}}));function nt(e){var t=e.disabled,n=e.conversationId,r=e.onSend,i=Object(T.a)(e,et),c=Object(a.useRef)(null),o=Object(a.useState)(""),s=Object(b.a)(o,2),l=s[0],d=s[1],j=function(){c.current.click()},p=function(){return l?(r&&r({conversationId:n,messageId:Object(Ge.a)(),message:l,contentType:"text",attachments:[],createdAt:new Date,senderId:"8864c717-587d-472a-929a-8e5f298024da-0"}),d("")):""};return Object(F.jsxs)(tt,Object(A.a)(Object(A.a)({},i),{},{children:[Object(F.jsx)(Xe.a,{disabled:t,fullWidth:!0,value:l,disableUnderline:!0,onKeyUp:function(e){"Enter"===e.key&&p()},onChange:function(e){d(e.target.value)},placeholder:"Type a message",startAdornment:Object(F.jsx)(Y.a,{position:"start",children:Object(F.jsx)(Ze.a,{disabled:t,value:l,setValue:d})}),endAdornment:Object(F.jsxs)($e.a,{direction:"row",spacing:.5,mr:1.5,children:[Object(F.jsx)(C.a,{disabled:t,size:"small",onClick:j,children:Object(F.jsx)(u.a,{icon:Ke.a,width:24,height:24})}),Object(F.jsx)(C.a,{disabled:t,size:"small",onClick:j,children:Object(F.jsx)(u.a,{icon:Ye.a,width:24,height:24})}),Object(F.jsx)(C.a,{disabled:t,size:"small",children:Object(F.jsx)(u.a,{icon:Ne.a,width:24,height:24})})]}),sx:{height:"100%"}}),Object(F.jsx)(S.a,{orientation:"vertical",flexItem:!0}),Object(F.jsx)(C.a,{color:"primary",disabled:!l,onClick:p,sx:{mx:1},children:Object(F.jsx)(u.a,{icon:Qe.a,width:24,height:24})}),Object(F.jsx)("input",{type:"file",ref:c,style:{display:"none"}})]}))}var at=n(6),rt=Object(D.a)("div")((function(e){return{display:"flex",marginBottom:e.theme.spacing(3)}})),it=Object(D.a)("div")((function(e){var t=e.theme;return{maxWidth:320,padding:t.spacing(1.5),marginTop:t.spacing(.5),borderRadius:t.shape.borderRadius,backgroundColor:t.palette.background.neutral}})),ct=Object(D.a)(w.a)((function(e){var t=e.theme;return{display:"flex",marginBottom:t.spacing(.75),color:t.palette.text.secondary}})),ot=Object(D.a)("img")((function(e){var t=e.theme;return Object(at.a)({width:"100%",cursor:"pointer",objectFit:"cover",borderRadius:t.shape.borderRadius},t.breakpoints.up("md"),{height:200,minWidth:296})}));function st(e){var t=e.message,n=e.conversation,a=e.onOpenLightbox,r=n.participants.find((function(e){return e.id===t.senderId})),i="8864c717-587d-472a-929a-8e5f298024da-0"===t.senderId?{type:"me"}:{avatar:null===r||void 0===r?void 0:r.avatar,name:null===r||void 0===r?void 0:r.name},c="me"===i.type,o="image"===t.contentType,s=i.name&&i.name.split(" ")[0];return Object(F.jsx)(rt,{children:Object(F.jsxs)(v.a,{sx:Object(A.a)({display:"flex"},c&&{ml:"auto"}),children:["me"!==i.type&&Object(F.jsx)(ae.a,{alt:i.name,src:i.avatar,sx:{width:32,height:32,mr:2}}),Object(F.jsxs)("div",{children:[Object(F.jsxs)(ct,{variant:"caption",sx:Object(A.a)({},c&&{justifyContent:"flex-end"}),children:[!c&&"".concat(s,","),"\xa0",Object(te.a)(new Date(t.createdAt),{addSuffix:!0})]}),Object(F.jsx)(it,{sx:Object(A.a)(Object(A.a)({},c&&{color:"grey.800",bgcolor:"primary.lighter"}),o&&{p:0}),children:o?Object(F.jsx)(ot,{alt:"attachment",src:t.body,onClick:function(){return a(t.body)}}):Object(F.jsx)(w.a,{variant:"body2",children:t.body})})]})]})})}var lt=n(289),dt=n(1594);function jt(e){var t=e.conversation,n=Object(a.useRef)(),r=Object(a.useState)(!1),i=Object(b.a)(r,2),c=i[0],o=i[1],s=Object(a.useState)(null),l=Object(b.a)(s,2),d=l[0],j=l[1];Object(a.useEffect)((function(){n.current&&(n.current.scrollTop=n.current.scrollHeight)}),[t.messages]);var u=t.messages.filter((function(e){return"image"===e.contentType})).map((function(e){return e.body})),p=function(e){var t=Object(ee.findIndex)(u,(function(t){return t===e}));o(!0),j(t)};return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(lt.a,{scrollableNodeProps:{ref:n},sx:{p:3,height:1},children:t.messages.map((function(e){return Object(F.jsx)(st,{message:e,conversation:t,onOpenLightbox:p},e.id)}))}),Object(F.jsx)(dt.a,{images:u,photoIndex:d,setPhotoIndex:j,isOpen:c,onClose:function(){return o(!1)}})]})}var bt=n(380),ut=n.n(bt),pt=n(62),ht=n(1330),xt=n(1379),Ot=n(512),ft=n.n(Ot),mt=n(1371),gt=n(1282),vt=n(1906),yt=["conversation","isCollapse","onCollapse"],wt=Object(D.a)("div")((function(e){return{flexGrow:1,height:"100%",display:"flex",overflow:"hidden",flexDirection:"column",paddingBottom:e.theme.spacing(2)}})),kt=Object(D.a)("div")((function(e){var t=e.theme;return{display:"flex",alignItems:"center",marginTop:t.spacing(2),padding:t.spacing(0,2.5)}})),Ct=Object(D.a)("div")((function(e){var t=e.theme;return{width:40,height:40,flexShrink:0,display:"flex",overflow:"hidden",alignItems:"center",justifyContent:"center",color:t.palette.text.secondary,borderRadius:t.shape.borderRadius,backgroundColor:t.palette.grey[50016]}})),St=Object(D.a)(mt.a)((function(e){var t=e.theme;return Object(A.a)(Object(A.a)({},t.typography.overline),{},{height:40,flexShrink:0,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function It(e){var t=e.file,n=e.fileUrl;return Object(F.jsxs)(kt,{children:[Object(F.jsx)(Ct,{children:Object(vt.c)(n)}),Object(F.jsxs)(v.a,{sx:{ml:1.5,maxWidth:150},children:[Object(F.jsx)(w.a,{variant:"body2",noWrap:!0,children:Object(vt.a)(n)}),Object(F.jsx)(w.a,{noWrap:!0,variant:"caption",sx:{color:"text.secondary",display:"block"},children:Object(Ae.b)(t.createdAt)})]})]},n)}function Rt(e){var t=e.conversation,n=e.isCollapse,a=e.onCollapse,r=Object(T.a)(e,yt),i=Object(ee.uniq)(Object(ee.flatten)(t.messages.map((function(e){return e.attachments})))).length;return Object(F.jsxs)(wt,Object(A.a)(Object(A.a)({},r),{},{children:[Object(F.jsxs)(St,{fullWidth:!0,color:"inherit",onClick:a,endIcon:Object(F.jsx)(u.a,{icon:n?ft.a:We.a,width:16,height:16}),children:["attachment (",i,")"]}),!n&&Object(F.jsx)(S.a,{}),Object(F.jsx)(lt.a,{children:Object(F.jsx)(gt.a,{in:n,children:t.messages.map((function(e){return Object(F.jsx)("div",{children:e.attachments.map((function(t){return Object(F.jsx)(It,{file:e,fileUrl:t},t)}))},e.id)}))})})]}))}var _t=n(1769),Pt=n.n(_t),Mt=n(1713),Wt=n.n(Mt),zt=["participants","isCollapse","onCollapse"],Tt=Object(D.a)(mt.a)((function(e){var t=e.theme;return Object(A.a)(Object(A.a)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})})),At=Object(D.a)(u.a)((function(e){return{width:16,height:16,marginTop:4,color:e.theme.palette.text.secondary}})),Dt=Object(D.a)(w.a)((function(e){var t=e.theme;return Object(A.a)({flexGrow:1,maxWidth:160,wordWrap:"break-word"},t.typography.body2)}));function Ft(e){var t=e.participants,n=e.isCollapse,a=e.onCollapse,r=Object(T.a)(e,zt),i=Object(Z.a)(t)[0];return void 0===i?null:Object(F.jsxs)(v.a,Object(A.a)(Object(A.a)({},r),{},{children:[Object(F.jsxs)(v.a,{sx:{pt:4,pb:3,display:"flex",alignItems:"center",flexDirection:"column"},children:[Object(F.jsx)(ae.a,{alt:i.name,src:i.avatar,sx:{width:96,height:96}}),Object(F.jsxs)(v.a,{sx:{mt:2,textAlign:"center"},children:[Object(F.jsx)(w.a,{variant:"subtitle1",children:i.name}),Object(F.jsx)(w.a,{variant:"body2",sx:{color:"text.secondary"},children:i.position})]})]}),Object(F.jsx)(S.a,{}),Object(F.jsx)(Tt,{fullWidth:!0,color:"inherit",onClick:a,endIcon:Object(F.jsx)(u.a,{icon:n?ft.a:We.a,width:16,height:16}),children:"information"}),Object(F.jsx)(gt.a,{in:n,children:Object(F.jsxs)($e.a,{spacing:2,sx:{p:2.5,pt:1},children:[Object(F.jsxs)($e.a,{direction:"row",spacing:1,children:[Object(F.jsx)(At,{icon:Pt.a}),Object(F.jsx)(Dt,{children:i.address})]}),Object(F.jsxs)($e.a,{direction:"row",spacing:1,children:[Object(F.jsx)(At,{icon:Re.a}),Object(F.jsx)(Dt,{children:i.phone})]}),Object(F.jsxs)($e.a,{direction:"row",spacing:1,children:[Object(F.jsx)(At,{icon:Wt.a}),Object(F.jsx)(Dt,{children:i.email})]})]})})]}))}var Et=n(1368),Bt=n(245),Lt=["participant","isOpen","onClose"],Ut=Object(D.a)("div")((function(e){return{display:"flex",alignItems:"center",justifyContent:"center",marginTop:e.theme.spacing(1.5)}})),Gt=Object(D.a)(u.a)((function(e){var t=e.theme;return{width:16,height:16,marginRight:t.spacing(1),color:t.palette.text.secondary}}));function qt(e){var t=e.participant,n=e.isOpen,a=e.onClose,r=Object(T.a)(e,Lt),i=t.name,c=t.avatar,o=t.position,s=t.address,l=t.phone,d=t.email;return Object(F.jsx)(Bt.b,Object(A.a)(Object(A.a)({fullWidth:!0,maxWidth:"xs",open:n,onClose:a},r),{},{children:Object(F.jsxs)(Et.a,{sx:{pb:5,textAlign:"center"},children:[Object(F.jsx)(ae.a,{alt:i,src:c,sx:{mt:5,mb:2,mx:"auto",width:96,height:96}}),Object(F.jsx)(w.a,{variant:"h6",children:i}),Object(F.jsx)(w.a,{variant:"body2",paragraph:!0,sx:{color:"text.secondary"},children:o}),Object(F.jsxs)(Ut,{children:[Object(F.jsx)(Gt,{icon:Pt.a}),Object(F.jsx)(w.a,{variant:"body2",children:s})]}),Object(F.jsxs)(Ut,{children:[Object(F.jsx)(Gt,{icon:Re.a}),Object(F.jsx)(w.a,{variant:"body2",children:l})]}),Object(F.jsxs)(Ut,{children:[Object(F.jsx)(Gt,{icon:Wt.a}),Object(F.jsx)(w.a,{variant:"body2",children:d})]})]})}))}var Nt=Object(D.a)(mt.a)((function(e){var t=e.theme;return Object(A.a)(Object(A.a)({},t.typography.overline),{},{height:40,borderRadius:0,padding:t.spacing(1,2),justifyContent:"space-between",color:t.palette.text.disabled})}));function Ht(e){var t=e.participant,n=e.isOpen,a=e.onClosePopup,r=e.onShowPopup,i=t.name,c=t.avatar,o=t.status,s=t.position;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(W.a,{onClick:r,sx:{height:64,px:2.5},children:[Object(F.jsx)(ne.a,{children:Object(F.jsxs)(v.a,{sx:{position:"relative",width:40,height:40},children:[Object(F.jsx)(ae.a,{alt:i,src:c}),Object(F.jsx)(L,{status:o,sx:{right:0,bottom:0,position:"absolute"}})]})}),Object(F.jsx)(P.a,{primary:i,secondary:s,primaryTypographyProps:{variant:"subtitle2",noWrap:!0},secondaryTypographyProps:{noWrap:!0}})]}),Object(F.jsx)(qt,{participant:t,isOpen:n,onClose:a})]})}function Qt(e){var t=e.participants,n=e.selectUserId,a=e.onShowPopupUserInfo,r=e.isCollapse,i=e.onCollapse;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(Nt,{fullWidth:!0,disableRipple:!0,color:"inherit",onClick:i,endIcon:Object(F.jsx)(u.a,{icon:r?ft.a:We.a,width:16,height:16}),children:["In room (",t.length,")"]}),Object(F.jsx)(v.a,{sx:{height:r?256:0},children:Object(F.jsx)(lt.a,{children:Object(F.jsx)(gt.a,{in:r,sx:{height:r?256:0},children:Object(F.jsx)(I.a,{disablePadding:!0,children:t.map((function(e){return Object(F.jsx)(Ht,{participant:e,isOpen:n===e.id,onShowPopup:function(){return a(e.id)},onClosePopup:function(){return a(null)}},e.id)}))})})})})]})}var Vt=240,Yt=Object(D.a)((function(e){return Object(F.jsx)(C.a,Object(A.a)({disableRipple:!0},e))}))((function(e){var t=e.theme;return{right:0,zIndex:9,width:32,height:32,position:"absolute",top:t.spacing(1),boxShadow:t.customShadows.z8,backgroundColor:t.palette.background.paper,border:"solid 1px ".concat(t.palette.divider),borderRight:0,borderRadius:"12px 0 0 12px",transition:t.transitions.create("all"),"&:hover":{backgroundColor:t.palette.background.neutral}}}));function Jt(e){var t=e.conversation,n=e.participants,r=Object(pt.a)(),i=Object(a.useState)(!0),c=Object(b.a)(i,2),o=c[0],s=c[1],l=Object(a.useState)(!0),d=Object(b.a)(l,2),j=d[0],p=d[1],h=Object(a.useState)(null),x=Object(b.a)(h,2),O=x[0],f=x[1],m=Object(a.useState)(!0),g=Object(b.a)(m,2),y=g[0],w=g[1],k=Object(a.useState)(!0),C=Object(b.a)(k,2),I=C[0],R=C[1],_=Object(ht.a)(r.breakpoints.down("lg")),P=n.length>1;Object(a.useEffect)((function(){return _?W():M()}),[_]);var M=function(){s(!0)},W=function(){s(!1)},z=Object(F.jsxs)(F.Fragment,{children:[P?Object(F.jsx)(Qt,{selectUserId:O,participants:n,isCollapse:I,onShowPopupUserInfo:function(e){return f(e)},onCollapse:function(){return R((function(e){return!e}))}}):Object(F.jsx)("div",{children:Object(F.jsx)(Ft,{participants:n,isCollapse:j,onCollapse:function(){return p((function(e){return!e}))}})}),Object(F.jsx)(S.a,{}),Object(F.jsx)(Rt,{conversation:t,isCollapse:y,onCollapse:function(){return w((function(e){return!e}))}})]});return Object(F.jsxs)(v.a,{sx:{position:"relative"},children:[Object(F.jsx)(Yt,{onClick:function(){s((function(e){return!e}))},sx:Object(A.a)({},o&&!_&&{right:Vt}),children:Object(F.jsx)(u.a,{width:16,height:16,icon:o?We.a:ut.a})}),Object(F.jsx)(De.c,{width:"lgUp",children:Object(F.jsx)(xt.a,{anchor:"right",ModalProps:{keepMounted:!0},open:o,onClose:W,sx:{"& .MuiDrawer-paper":{width:Vt}},children:z})}),Object(F.jsx)(De.c,{width:"lgDown",children:Object(F.jsx)(xt.a,{open:o,anchor:"right",variant:"persistent",sx:Object(A.a)(Object(A.a)({height:1,width:Vt,transition:r.transitions.create("width")},!o&&{width:"0px"}),{},{"& .MuiDrawer-paper":{position:"static",width:Vt}}),children:z})})]})}function Kt(e){var t=e.query,n=e.results,a=e.onSelectContact,r=n.length>0;return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(w.a,{paragraph:!0,variant:"subtitle1",sx:{px:3,color:"text.secondary"},children:"Contacts"}),Object(F.jsx)(I.a,{disablePadding:!0,children:n.map((function(e){return Object(F.jsxs)(W.a,{onClick:function(){return a(e)},sx:{py:1.5,px:3},children:[Object(F.jsx)(ne.a,{children:Object(F.jsx)(ae.a,{alt:e.name,src:e.avatar})}),Object(F.jsx)(P.a,{primary:e.name,primaryTypographyProps:{noWrap:!0,variant:"subtitle2"}})]},e.id)}))}),!r&&Object(F.jsx)(ge.a,{searchQuery:t,sx:{p:3,mx:"auto",width:"calc(100% - 48px)",bgcolor:"background.neutral"}})]})}var Xt=n(17),$t=n.n(Xt),Zt=n(25),en=n(50),tn=n(1493),nn=n.n(tn),an=n(1638),rn=n.n(an),cn=n(29),on=Object(D.a)((function(e){return Object(F.jsx)(C.a,Object(A.a)({disableRipple:!0},e))}))((function(e){var t=e.theme;return{left:0,zIndex:9,width:32,height:32,position:"absolute",top:t.spacing(13),borderRadius:"0 12px 12px 0",color:t.palette.primary.contrastText,backgroundColor:t.palette.primary.main,boxShadow:t.customShadows.primary,"&:hover":{backgroundColor:t.palette.primary.darker}}}));function sn(){var e=Object(pt.a)(),t=Object(oe.h)(),n=Object(oe.g)().pathname,r=Object(a.useState)(!0),i=Object(b.a)(r,2),o=i[0],l=i[1],d=Object(a.useState)(""),j=Object(b.a)(d,2),p=j[0],h=j[1],x=Object(a.useState)([]),O=Object(b.a)(x,2),f=O[0],m=O[1],g=Object(a.useState)(!1),y=Object(b.a)(g,2),w=y[0],k=y[1],C=Object(c.d)((function(e){return e.chat})),S=C.conversations,I=C.activeConversationId,R=p&&w,_=Object(ht.a)(e.breakpoints.down("md")),P=!_&&!o;Object(a.useEffect)((function(){return _?W():M()}),[_,n]),Object(a.useEffect)((function(){if(!o)return k(!1)}),[o]);var M=function(){l(!0)},W=function(){l(!1)},z=function(){l((function(e){return!e}))},T=function(){var e=Object(Zt.a)($t.a.mark((function e(t){var n,a;return $t.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n=t.target.value,h(n),!n){e.next=10;break}return e.next=6,cn.a.get("/api/chat/search",{params:{query:n}});case 6:a=e.sent,m(a.data.results),e.next=11;break;case 10:m([]);case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),D=function(e){k(!1),h(""),t("".concat(s.b.chat.root,"/").concat(e))},E=Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)(v.a,{sx:{py:2,px:3},children:[Object(F.jsxs)($e.a,{direction:"row",alignItems:"center",justifyContent:"center",children:[!P&&Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(G,{}),Object(F.jsx)(v.a,{sx:{flexGrow:1}})]}),Object(F.jsx)(De.d,{onClick:z,children:Object(F.jsx)(u.a,{width:20,height:20,icon:o?ut.a:We.a})}),!P&&Object(F.jsx)(De.d,{to:s.b.chat.new,component:en.b,children:Object(F.jsx)(u.a,{icon:nn.a,width:20,height:20})})]}),!P&&Object(F.jsx)($,{query:p,onFocus:function(){k(!0)},onChange:T,onClickAway:function(){k(!1),h("")}})]}),Object(F.jsx)(lt.a,{children:R?Object(F.jsx)(Kt,{query:p,results:f,onSelectContact:function(e){D&&D(e.username)}}):Object(F.jsx)(le,{conversations:S,isOpenSidebar:o,activeConversationId:I,sx:Object(A.a)({},w&&{display:"none"})})})]});return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(De.c,{width:"mdUp",children:Object(F.jsx)(on,{onClick:z,children:Object(F.jsx)(u.a,{width:16,height:16,icon:rn.a})})}),Object(F.jsx)(De.c,{width:"mdUp",children:Object(F.jsx)(xt.a,{ModalProps:{keepMounted:!0},open:o,onClose:W,sx:{"& .MuiDrawer-paper":{width:320}},children:E})}),Object(F.jsx)(De.c,{width:"mdDown",children:Object(F.jsx)(xt.a,{open:o,variant:"persistent",sx:Object(A.a)({width:320,transition:e.transitions.create("width"),"& .MuiDrawer-paper":{position:"static",width:320}},P&&{width:96,"& .MuiDrawer-paper":{width:96,position:"static",transform:"none !important",visibility:"visible !important"}}),children:E})})]})}function ln(){var e=Object(c.c)(),t=Object(oe.h)(),n=Object(oe.g)().pathname,r=Object(oe.i)().conversationKey,i=Object(c.d)((function(e){return e.chat})),l=i.contacts,d=i.recipients,j=i.participants,b=i.activeConversationId,u=Object(c.d)((function(e){return function(e){var t=e.chat,n=t.conversations,a=t.activeConversationId,r=a?n.byId[a]:null;return r||{id:"",messages:[],participants:[],unreadCount:0,type:""}}(e)})),p=r?"DETAIL":"COMPOSE",h=j.filter((function(e){return"8864c717-587d-472a-929a-8e5f298024da-0"!==e.id}));Object(a.useEffect)((function(){r?function(){var n=Object(Zt.a)($t.a.mark((function n(){return $t.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e(Object(o.f)(r)),n.prev=1,n.next=4,e(Object(o.d)(r));case 4:n.next=10;break;case 6:n.prev=6,n.t0=n.catch(1),console.error(n.t0),t(s.b.chat.new);case 10:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(){return n.apply(this,arguments)}}()():b&&e(Object(o.i)())}),[r]),Object(a.useEffect)((function(){b&&e(Object(o.g)(b))}),[e,b]);var x=function(){var t=Object(Zt.a)($t.a.mark((function t(n){return $t.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{e(Object(o.h)(n))}catch(a){console.error(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(F.jsxs)($e.a,{sx:{flexGrow:1,minWidth:"1px"},children:["DETAIL"===p?Object(F.jsx)(Ue,{participants:h}):Object(F.jsx)(ke,{recipients:d,contacts:Object.values(l.byId),onAddRecipients:function(t){e(Object(o.a)(t))}}),Object(F.jsx)(S.a,{}),Object(F.jsxs)(v.a,{sx:{flexGrow:1,display:"flex",overflow:"hidden"},children:[Object(F.jsxs)($e.a,{sx:{flexGrow:1},children:[Object(F.jsx)(jt,{conversation:u}),Object(F.jsx)(S.a,{}),Object(F.jsx)(nt,{conversationId:b,onSend:x,disabled:n===s.b.chat.new})]}),"DETAIL"===p&&Object(F.jsx)(Jt,{conversation:u,participants:h})]})]})}function dn(){var e=Object(l.a)().themeStretch,t=Object(c.c)();return Object(a.useEffect)((function(){t(Object(o.e)()),t(Object(o.c)())}),[t]),Object(F.jsx)(d.a,{title:"Chat | Minimal-UI",children:Object(F.jsxs)(r.a,{maxWidth:!e&&"xl",children:[Object(F.jsx)(j.a,{heading:"Chat",links:[{name:"Dashboard",href:s.b.root},{name:"Chat"}]}),Object(F.jsxs)(i.a,{sx:{height:"72vh",display:"flex"},children:[Object(F.jsx)(sn,{}),Object(F.jsx)(ln,{})]})]})})}}}]);
//# sourceMappingURL=56.fb2ccf6a.chunk.js.map