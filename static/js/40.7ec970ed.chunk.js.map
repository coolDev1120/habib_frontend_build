{"version":3,"sources":["pages/dashboard/Accouts/index.js"],"names":["PageTitle","styled","theme","backgroundColor","alpha","palette","primary","main","EcommerceProductList","useState","data","setData","change","SetChange","refresh","SetRefresh","roleId","setRoleId","changeRole","val","console","log","axios","post","process","id","then","res","columns","field","headerName","width","renderCell","params","sx","padding","background","row","colourCode","borderRadius","align","value","role","style","onClick","onChange","options","label","to","textDecoration","variant","color","size","marginLeft","title","description","onConfirm","handleDelete","okText","cancelText","sortable","e","flag","message","config","top","duration","success","useEffect","setTimeout","fontSize","fontWeight","mb","px","marginTop","marginBottom","display","flex","textAlign","className","startIcon","height","rows","pageSize","rowsPerPageOptions","components","Toolbar","GridToolbar"],"mappings":"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","file":"static/js/40.7ec970ed.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Typography, Button } from '@mui/material';\nimport axios from 'axios';\nimport { DataGrid, GridToolbar } from '@mui/x-data-grid';\nimport { Popconfirm, message, Select } from 'antd'\n\nimport Box from '@mui/material/Box';\nimport { Link } from 'react-router-dom';\nimport { styled, alpha } from '@mui/material/styles';\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\n\nimport Page from '../../../components/Page';\n\nconst PageTitle = styled('div')(({ theme }) => ({\n\tbackgroundColor: `${alpha(theme.palette.primary.main, 0.08)}`\n}));\n\n\nexport default function EcommerceProductList() {\n\tconst [data, setData] = useState([]);\n\tconst [change, SetChange] = useState(false);\n\tconst [refresh, SetRefresh] = useState(false);\n\n\tconst renderDetailsButton = (params) => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Link to={`/dashboard/account/edit/${params.row.id}`} style={{ textDecoration: 'none' }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tstyle={{ marginLeft: 16 }}\n\t\t\t\t\t>\n\t\t\t\t\t\tEdit\n\t\t\t\t\t</Button>\n\t\t\t\t</Link>\n\t\t\t\t<Popconfirm\n\t\t\t\t\ttitle=\"Delete the task\"\n\t\t\t\t\tdescription=\"Are you sure to delete this account?\"\n\t\t\t\t\tonConfirm={() => handleDelete(params)}\n\t\t\t\t\tokText=\"Yes\"\n\t\t\t\t\tcancelText=\"No\"\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tstyle={{ marginLeft: 16 }}\n\t\t\t\t\t>\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</Button>\n\t\t\t\t</Popconfirm>\n\t\t\t</>\n\t\t)\n\t}\n\n\tconst renderColorCode = (params) => {\n\t\treturn (\n\t\t\t<Box sx={{ padding: '6px', background: params.row.colourCode, borderRadius: '100%' }}></Box>\n\t\t)\n\t}\n\n\tconst [roleId, setRoleId] = useState('0')\n\tconst changeRole = (val,) => {\n\t\tconsole.log(roleId, val)\n\t\taxios.post(`${process.env.REACT_APP_SERVER_URL}/changeRoleById`, { id: roleId, val: val })\n\t\t\t.then((res) => {\n\t\t\t\tSetRefresh(!refresh)\n\t\t\t})\n\t}\n\n\tconst renderRole = (params) => {\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tvalue={params.row.role}\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: 120,\n\t\t\t\t}}\n\t\t\t\tonClick={() => setRoleId(params.row.id)}\n\t\t\t\tonChange={changeRole}\n\t\t\t\toptions={[\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'admin',\n\t\t\t\t\t\tlabel: 'Admin',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'user',\n\t\t\t\t\t\tlabel: 'User',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'supervisor',\n\t\t\t\t\t\tlabel: 'Supervisor',\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t/>\n\t\t)\n\t}\n\n\tconst columns = [\n\t\t// { field: 'id', headerName: 'ID', width: 30 },\n\t\t{ field: 'username', headerName: 'Username', width: 350 },\n\t\t{ field: 'email', headerName: 'Email', width: 250 },\n\t\t{ field: 'colourCode', headerName: 'Colour Code', width: 200, renderCell: renderColorCode, align: \"center\" },\n\t\t{ field: 'role', headerName: 'Role', renderCell: renderRole, width: 200 },\n\t\t{ field: 'action', headerName: 'Action', renderCell: renderDetailsButton, sortable: false, width: 200 }\n\t];\n\n\tconst handleDelete = (e) => {\n\t\tconsole.log(e.row.id)\n\t\taxios.post(`${process.env.REACT_APP_SERVER_URL}/deleteAccount`, { id: e.row.id })\n\t\t\t.then((res) => {\n\t\t\t\tif (res.data.flag === 'success') {\n\t\t\t\t\tmessage.config({ top: 100, duration: 5, });\n\t\t\t\t\tmessage.success('Successfully deleted.');\n\t\t\t\t\tSetChange(!change)\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\tSetRefresh(true)\n\t\t}, 200);\n\n\t\treturn () => {\n\t\t\taxios.post(`${process.env.REACT_APP_SERVER_URL}/getusers`)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tsetData(res.data.data);\n\t\t\t\t})\n\t\t}\n\t}, [change, refresh]);\n\n\treturn (\n\t\t<>\n\t\t\t<Page title=\"All Users\">\n\t\t\t\t<PageTitle>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tfontSize: '23px',\n\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\tpadding: '10px',\n\t\t\t\t\t\t\tmb: '20px'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tAll Users\n\t\t\t\t\t</Typography>\n\t\t\t\t</PageTitle>\n\n\t\t\t\t<Box sx={{ px: '20px' }}>\n\t\t\t\t\t<div style={{ marginTop: '20px', marginBottom: '20px', display: 'flex' }}>\n\t\t\t\t\t\t<div style={{ flex: '1 1 0%', textAlign: 'right' }}>\n\t\t\t\t\t\t\t<Link to=\"/dashboard/account/add\" style={{ textDecoration: 'none' }}>\n\t\t\t\t\t\t\t\t<Button className='btn_info' variant=\"contained\" startIcon={<AddCircleOutlineIcon />} sx={{ mb: '10px' }}> Add New User </Button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Box>\n\t\t\t\t<div style={{ height: '700px', width: '100%' }}>\n\t\t\t\t\t<DataGrid\n\t\t\t\t\t\trows={data}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tpageSize={10}\n\t\t\t\t\t\trowsPerPageOptions={[10]}\n\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\tToolbar: GridToolbar,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Page>\n\t\t</>\n\t);\n}\n\n"],"sourceRoot":""}