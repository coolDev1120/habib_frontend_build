{"version":3,"sources":["pages/dashboard/Accouts/index.js"],"names":["PageTitle","styled","theme","backgroundColor","alpha","palette","primary","main","EcommerceProductList","useState","data","setData","change","SetChange","refresh","SetRefresh","emailTeam","setemailTeam","roleId","setRoleId","changeRole","val","console","log","axios","post","process","id","then","res","columns","field","headerName","width","renderCell","params","sx","padding","background","row","colourCode","borderRadius","align","i","team","name","value","role","style","onClick","onChange","options","label","to","textDecoration","variant","color","size","marginLeft","title","description","onConfirm","handleDelete","okText","cancelText","sortable","e","flag","message","config","top","duration","success","useEffect","setTimeout","result","fontSize","fontWeight","mb","px","marginTop","marginBottom","display","flex","textAlign","className","startIcon","height","rows","pageSize","rowsPerPageOptions","components","Toolbar","GridToolbar"],"mappings":"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","file":"static/js/41.d1f483ce.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Typography, Button } from '@mui/material';\nimport axios from 'axios';\nimport { DataGrid, GridToolbar } from '@mui/x-data-grid';\nimport { Popconfirm, message, Select } from 'antd'\n\nimport Box from '@mui/material/Box';\nimport { Link } from 'react-router-dom';\nimport { styled, alpha } from '@mui/material/styles';\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\n\nimport Page from '../../../components/Page';\n\nconst PageTitle = styled('div')(({ theme }) => ({\n\tbackgroundColor: `${alpha(theme.palette.primary.main, 0.08)}`\n}));\n\n\nexport default function EcommerceProductList() {\n\tconst [data, setData] = useState([]);\n\tconst [change, SetChange] = useState(false);\n\tconst [refresh, SetRefresh] = useState(false);\n\tconst [emailTeam, setemailTeam] = useState([]);\n\n\tconst renderDetailsButton = (params) => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Link to={`/dashboard/account/edit/${params.row.id}`} style={{ textDecoration: 'none' }}>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tstyle={{ marginLeft: 16 }}\n\t\t\t\t\t>\n\t\t\t\t\t\tEdit\n\t\t\t\t\t</Button>\n\t\t\t\t</Link>\n\t\t\t\t<Popconfirm\n\t\t\t\t\ttitle=\"Delete the task\"\n\t\t\t\t\tdescription=\"Are you sure to delete this account?\"\n\t\t\t\t\tonConfirm={() => handleDelete(params)}\n\t\t\t\t\tokText=\"Yes\"\n\t\t\t\t\tcancelText=\"No\"\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tstyle={{ marginLeft: 16 }}\n\t\t\t\t\t>\n\t\t\t\t\t\tDelete\n\t\t\t\t\t</Button>\n\t\t\t\t</Popconfirm>\n\t\t\t</>\n\t\t)\n\t}\n\n\tconst renderColorCode = (params) => {\n\t\treturn (\n\t\t\t<Box sx={{ padding: '6px', background: params.row.colourCode, borderRadius: '100%' }}></Box>\n\t\t)\n\t}\n\n\tconst [roleId, setRoleId] = useState('0')\n\tconst changeRole = (val,) => {\n\t\tconsole.log(roleId, val)\n\t\taxios.post(`${process.env.REACT_APP_SERVER_URL}/changeRoleById`, { id: roleId, val: val })\n\t\t\t.then((res) => {\n\t\t\t\tSetRefresh(!refresh)\n\t\t\t})\n\t}\n\n\tconst renderRole = (params) => {\n\t\treturn (\n\t\t\t<Select\n\t\t\t\tvalue={params.row.role}\n\t\t\t\tstyle={{\n\t\t\t\t\twidth: 120,\n\t\t\t\t}}\n\t\t\t\tonClick={() => setRoleId(params.row.id)}\n\t\t\t\tonChange={changeRole}\n\t\t\t\toptions={[\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'admin',\n\t\t\t\t\t\tlabel: 'Admin',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'user',\n\t\t\t\t\t\tlabel: 'User',\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\tvalue: 'supervisor',\n\t\t\t\t\t\tlabel: 'Supervisor',\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t/>\n\t\t)\n\t}\n\n\tconst renderTeam = (params) => {\n\t\tconsole.log(params.row.team, emailTeam)\n\t\tfor (const i in emailTeam) {\n\t\t\tif (emailTeam[i].id === params.row.team) {\n\t\t\t\treturn (\n\t\t\t\t\t<>\n\t\t\t\t\t\t{emailTeam[i].name}\n\t\t\t\t\t</>\n\t\t\t\t)\n\t\t\t}\n\t\t}\n\t}\n\n\tconst columns = [\n\t\t// { field: 'id', headerName: 'ID', width: 30 },\n\t\t{ field: 'username', headerName: 'Username', width: 350 },\n\t\t{ field: 'email', headerName: 'Email', width: 250 },\n\t\t{ field: 'colourCode', headerName: 'Colour Code', width: 200, renderCell: renderColorCode, align: \"center\" },\n\t\t{ field: 'team', headerName: 'Team', renderCell: renderTeam, width: 200 },\n\t\t{ field: 'role', headerName: 'Role', renderCell: renderRole, width: 200 },\n\t\t{ field: 'action', headerName: 'Action', renderCell: renderDetailsButton, sortable: false, width: 200 }\n\t];\n\n\tconst handleDelete = (e) => {\n\t\tconsole.log(e.row.id)\n\t\taxios.post(`${process.env.REACT_APP_SERVER_URL}/deleteAccount`, { id: e.row.id })\n\t\t\t.then((res) => {\n\t\t\t\tif (res.data.flag === 'success') {\n\t\t\t\t\tmessage.config({ top: 100, duration: 5, });\n\t\t\t\t\tmessage.success('Successfully deleted.');\n\t\t\t\t\tSetChange(!change)\n\t\t\t\t}\n\t\t\t})\n\t}\n\n\tuseEffect(() => {\n\t\tsetTimeout(() => {\n\t\t\tSetRefresh(true)\n\t\t}, 200);\n\n\t\treturn () => {\n\t\t\taxios.post(`${process.env.REACT_APP_SERVER_URL}/getusers`)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tsetData(res.data.data);\n\t\t\t\t})\n\n\t\t\taxios.post(`${process.env.REACT_APP_SERVER_URL}/getEmailTeams`)\n\t\t\t\t.then((res) => {\n\t\t\t\t\tsetemailTeam(res.data.result)\n\t\t\t\t})\n\t\t}\n\t}, [change, refresh]);\n\n\treturn (\n\t\t<>\n\t\t\t<Page title=\"All Users\">\n\t\t\t\t<PageTitle>\n\t\t\t\t\t<Typography\n\t\t\t\t\t\tcolor=\"text.primary\"\n\t\t\t\t\t\tsx={{\n\t\t\t\t\t\t\tfontSize: '23px',\n\t\t\t\t\t\t\tfontWeight: 'bold',\n\t\t\t\t\t\t\tpadding: '10px',\n\t\t\t\t\t\t\tmb: '20px'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\tAll Users\n\t\t\t\t\t</Typography>\n\t\t\t\t</PageTitle>\n\n\t\t\t\t<Box sx={{ px: '20px' }}>\n\t\t\t\t\t<div style={{ marginTop: '20px', marginBottom: '20px', display: 'flex' }}>\n\t\t\t\t\t\t<div style={{ flex: '1 1 0%', textAlign: 'right' }}>\n\t\t\t\t\t\t\t<Link to=\"/dashboard/account/add\" style={{ textDecoration: 'none' }}>\n\t\t\t\t\t\t\t\t<Button className='btn_info' variant=\"contained\" startIcon={<AddCircleOutlineIcon />} sx={{ mb: '10px' }}> Add New User </Button>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Box>\n\t\t\t\t<div style={{ height: '700px', width: '100%' }}>\n\t\t\t\t\t<DataGrid\n\t\t\t\t\t\trows={data}\n\t\t\t\t\t\tcolumns={columns}\n\t\t\t\t\t\tpageSize={10}\n\t\t\t\t\t\trowsPerPageOptions={[10]}\n\t\t\t\t\t\tcomponents={{\n\t\t\t\t\t\t\tToolbar: GridToolbar,\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</Page>\n\t\t</>\n\t);\n}\n\n"],"sourceRoot":""}