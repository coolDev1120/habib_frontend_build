(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[30],{1918:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return R}));var n=a(15),c=a(3),r=a(0),o=a.n(r),i=a(1667),s=a.n(i),l=a(1881),d=a(1876),u=a(1316),b=a(1873),j=a(1932),p=a(1874),x=a(1467),O=a.n(x),h=a(170),g=a.n(h),m=a(1345),f=a(277),v=a(454),y=a(1358),S=a(1325),C=a(1319),k=a(1346),z=a(1466),I=a.n(z),E=a(49),M=a(6),N=a(103),T=a(682),A=a(457),D=a(1),P=Object(M.a)((function(e){return Object(D.jsx)(T.a,Object(c.a)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))}))((function(e){var t=e.theme;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,color:"light"===t.palette.mode?"rgb(55, 65, 81)":t.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:Object(N.a)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function R(){var e=Object(r.useState)([]),t=Object(n.a)(e,2),a=t[0],c=t[1],i=Object(r.useState)(10),x=Object(n.a)(i,2),h=x[0],z=x[1],T=Object(r.useState)(1),R=Object(n.a)(T,2),w=R[0],Y=R[1],F=Object(r.useState)(0),L=Object(n.a)(F,2),_=L[0],B=L[1],J=Object(r.useState)(""),W=Object(n.a)(J,2),H=W[0],K=W[1],q=Object(r.useState)(""),G=Object(n.a)(q,2),Q=G[0],U=G[1],V=Object(r.useState)("descend"),X=Object(n.a)(V,2),Z=X[0],$=X[1],ee=Object(r.useState)("id"),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],ce=Object(r.useState)(!1),re=Object(n.a)(ce,2),oe=re[0],ie=re[1],se=Object(r.useState)([]),le=Object(n.a)(se,2),de=(le[0],le[1]),ue=Object(r.useState)("none"),be=Object(n.a)(ue,2),je=be[0],pe=(be[1],Object(M.a)("div")((function(e){var t=e.theme;return{backgroundColor:"".concat(Object(N.a)(t.palette.primary.main,.08))}}))),xe=Object(r.useRef)(),Oe=[{title:"REF",dataIndex:"key"},{title:"Surename",dataIndex:"customer_name",sorter:function(e,t){return e.name-t.name}},{title:"ADDRESS",dataIndex:"address",sorter:function(e,t){return e.age-t.age}},{title:"POSTCODE",dataIndex:"postcode",sorter:function(e,t){return e.age-t.age}},{title:"PHONE",dataIndex:"phone",sorter:function(e,t){return e.age-t.age}},{title:"ACTION",key:"action",render:function(e,t){return Object(D.jsxs)(l.b,{size:"middle",children:[Object(D.jsx)(E.b,{to:"/dashboard/contact/edit/".concat(t.id),children:Object(D.jsx)(m.a,{variant:"outlined",color:"primary",size:"small",style:{marginLeft:16},children:"Edit"})}),Object(D.jsx)(d.a,{title:"Are you sure to delete this item?",onConfirm:function(){return he(t)},okText:"Yes",cancelText:"No",children:Object(D.jsx)(m.a,{variant:"outlined",color:"primary",size:"small",style:{marginLeft:16},children:"Delete"})})]})}}],he=function(e){console.log(e.id),g.a.post("".concat("https://edf1-95-217-123-75.eu.ngrok.io","/deleteContact"),{id:e.id}).then((function(e){console.log(e.data),"success"===e.data.flag&&(u.a.config({top:100,duration:5}),u.a.info("Successfully delected"),ie(!oe))}))};Object(r.useEffect)((function(){g.a.post("".concat("https://edf1-95-217-123-75.eu.ngrok.io","/getCompany")).then((function(e){for(var t=[],a=0;a<e.data.length;a++){var n={};n.value=e.data[a].id,n.label=e.data[a].company_name,t.push(n)}console.log(t),de(t)}))}),[]),Object(r.useEffect)((function(){var e=[];"none"!==je&&e.push({name:"company",value:je}),g.a.post("".concat("https://edf1-95-217-123-75.eu.ngrok.io","/getContact"),{current:w,perpage:h,search:Q,order:Z,field:ae,option:e}).then((function(e){var t=[];for(var a in e.data.data)t[a]=e.data.data[a],t[a].key=parseInt(h*(w-1))+parseInt(a)+1,t[a].startdate=I()(e.data.data[a].startdate).format("YYYY-MM-DD");c(e.data.data),B(e.data.total)}))}),[w,h,Q,Z,ae,oe,je]);var ge=o.a.useState(null),me=Object(n.a)(ge,2),fe=me[0],ve=me[1],ye=Boolean(fe),Se=function(){ve(null)};return Object(D.jsx)(D.Fragment,{children:Object(D.jsxs)(A.a,{title:"Contacts",children:[Object(D.jsx)(pe,{children:Object(D.jsx)(f.a,{color:"text.primary",sx:{textTransform:"uppercase",fontSize:"23px",fontWeight:"bold",padding:"10px",mb:"20px"},children:"All CONTACTS"})}),Object(D.jsx)(v.a,{children:Object(D.jsx)(v.a,{className:"toolbar",children:Object(D.jsxs)(v.a,{sx:{flex:"1 1 0%",textAlign:{xs:"let",lg:"right"}},children:[Object(D.jsxs)(y.a,{sx:{width:"100px",mb:"10px",mr:"10px"},size:"small",children:[Object(D.jsx)(S.a,{id:"select-subcategory"}),Object(D.jsxs)(C.a,{labelId:"select-subcategory",id:"subcategory",value:h,onChange:function(e){return z(e.target.value)},children:[Object(D.jsx)(k.a,{value:5,children:"5"}),Object(D.jsx)(k.a,{value:10,children:"10"}),Object(D.jsx)(k.a,{value:25,children:"25"}),Object(D.jsx)(k.a,{value:50,children:"50"})]})]}),Object(D.jsx)(b.a,{onChange:function(e){return K(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&U(H)},size:"large",placeholder:"Search...",style:{width:"200px",marginBottom:"10px",marginRight:"20px"}}),Object(D.jsx)(P,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:fe,open:ye,onClose:Se,children:Object(D.jsx)(k.a,{onClick:Se,children:Object(D.jsx)(s.a,{targetRef:xe,filename:"document.pdf",children:function(e){var t=e.toPdf;return Object(D.jsx)("div",{onClick:t,className:"button",children:"Export as PDF"})}})})}),Object(D.jsx)(E.b,{to:"/dashboard/contact/add",style:{textDecoration:"none"},children:Object(D.jsx)(m.a,{className:"btn_info",variant:"contained",startIcon:Object(D.jsx)(O.a,{}),sx:{mb:"10px"},children:" Add New Contact "})})]})})}),Object(D.jsx)(v.a,{children:Object(D.jsx)(j.a,{className:"table-scroll",bordered:"true",columns:Oe,dataSource:a,onChange:function(e,t,a,n){a.order?($(a.order),"key"===a.field?ne("id"):ne(a.field)):($("descend"),ne("id"))}})}),Object(D.jsx)(p.a,{onChange:function(e,t){console.log(e,t),Y(e),z(t)},total:_,pageSize:h,style:{marginTop:"20px",textAlign:"right"}})]})})}}}]);
//# sourceMappingURL=30.1bbd7b3d.chunk.js.map