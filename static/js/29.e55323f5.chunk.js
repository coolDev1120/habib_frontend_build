(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[29],{1402:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return o})),a.d(t,"b",(function(){return l}));var n=a(22),s=a(1445),r=a.n(s);function c(e){return r()(e).format(Number.isInteger(e)?"$0,0":"$0,0.00")}function i(e){return r()(e).format()}function o(e){return Object(n.replace)(r()(e).format("0.00a"),".00","")}function l(e){return r()(e).format("0.0 b")}},1409:function(e,t,a){"use strict";a.d(t,"a",(function(){return j}));var n=a(3),s=a(49),r=a(22),c=a(455),i=a(281),o=a(1342),l=a(62),u=a(1),d=["links","action","heading","moreLink","sx"];function j(e){var t=e.links,a=e.action,j=e.heading,b=e.moreLink,m=void 0===b?[]:b,f=e.sx,h=Object(s.a)(e,d);return Object(u.jsxs)(c.a,{sx:Object(n.a)({mb:5},f),children:[Object(u.jsxs)(c.a,{sx:{display:"flex",alignItems:"center"},children:[Object(u.jsxs)(c.a,{sx:{flexGrow:1},children:[Object(u.jsx)(i.a,{variant:"h4",gutterBottom:!0,children:j}),Object(u.jsx)(l.b,Object(n.a)({links:t},h))]}),a&&Object(u.jsx)(c.a,{sx:{flexShrink:0},children:a})]}),Object(u.jsx)(c.a,{sx:{mt:2},children:Object(r.isString)(m)?Object(u.jsx)(o.a,{href:m,target:"_blank",variant:"body2",children:m}):m.map((function(e){return Object(u.jsx)(o.a,{noWrap:!0,href:e,variant:"body2",target:"_blank",sx:{display:"table"},children:e},e)}))})]})}},1422:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r}));var n=a(686);a(1811),a(2135);function s(e){return Object(n.a)(new Date(e),"MMMM dd")}function r(e){return Object(n.a)(new Date(e),"dd/MM/yyyy hh:mm p")}},2206:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return X}));var n=a(15),s=a(37),r=a(2194),c=a(0),i=a(1829),o=a.n(i),l=a(1640),u=a.n(l),d=a(1371),j=a(1314),b=a(2208),m=a(2222),f=a(455),h=a(370),p=a(474),O=a(104),x=a(99),g=a(457),w=a(1409),v=a(16),P=a.n(v),y=a(23),S=a(286),k=a(284),N=a(468),C=a(1339),q=a(1370),W=(a(281),a(1352),a(376),a(1423),a(1567),a(1446),a(1344),a(1));var I=a(3),M=(a(1410),a(1346),a(1260),a(1361)),A=a(1373);a(48),a(257),a(1342),a(1422),a(1402);var B=a(170),T=a.n(B),U=a(55);function D(){var e=Object(N.b)().enqueueSnackbar,t=S.c().shape({oldPassword:S.e().required("Old Password is required"),newPassword:S.e().min(6,"Password must be at least 6 characters").required("New Password is required"),confirmNewPassword:S.e().oneOf([S.d("newPassword"),null],"Passwords must match")}),a=Object(k.c)({initialValues:{oldPassword:"",newPassword:"",confirmNewPassword:""},validationSchema:t,onSubmit:function(){var t=Object(y.a)(P.a.mark((function t(a,n){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.setSubmitting,a.email=Object(U.a)(localStorage.getItem("token")).email,T.a.post("".concat("https://edf1-95-217-123-75.eu.ngrok.io","/setting/changePassword"),a).then((function(t){console.log(t.data),console.log("Your password successfully updated."),"success"===t.data.flag&&e("Save success",{variant:"success"}),"fail"===t.data.flag&&e(t.data.message,{variant:"error"})})),console.log(a);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}),n=a.errors,s=a.touched,r=a.isSubmitting,c=a.handleSubmit,i=a.getFieldProps;return Object(W.jsx)(q.a,{sx:{p:3},children:Object(W.jsx)(k.b,{value:a,children:Object(W.jsx)(k.a,{autoComplete:"off",noValidate:!0,onSubmit:c,children:Object(W.jsxs)(j.a,{spacing:3,alignItems:"flex-end",children:[Object(W.jsx)(M.a,Object(I.a)(Object(I.a)({},i("oldPassword")),{},{fullWidth:!0,autoComplete:"on",type:"password",label:"Old Password",error:Boolean(s.oldPassword&&n.oldPassword),helperText:s.oldPassword&&n.oldPassword})),Object(W.jsx)(M.a,Object(I.a)(Object(I.a)({},i("newPassword")),{},{fullWidth:!0,autoComplete:"on",type:"password",label:"New Password",error:Boolean(s.newPassword&&n.newPassword),helperText:s.newPassword&&n.newPassword||"Password must be minimum 6+"})),Object(W.jsx)(M.a,Object(I.a)(Object(I.a)({},i("confirmNewPassword")),{},{fullWidth:!0,autoComplete:"on",type:"password",label:"Confirm New Password",error:Boolean(s.confirmNewPassword&&n.confirmNewPassword),helperText:s.confirmNewPassword&&n.confirmNewPassword})),Object(W.jsx)(A.a,{type:"submit",variant:"contained",loading:r,children:"Save Changes"})]})})})})}var F=a(2226),L=a(2200),V=a(1324),E=a(2133),R=L.a.Dragger;function _(){var e=Object(N.b)().enqueueSnackbar,t=Object(c.useState)(""),a=Object(n.a)(t,2),s=a[0],r=a[1],i=Object(c.useState)(""),o=Object(n.a)(i,2),l=o[0],u=o[1],d=Object(c.useState)(""),j=Object(n.a)(d,2),b=j[0],m=j[1],h=Object(c.useState)(""),p=Object(n.a)(h,2),O=p[0],x=p[1];V.a.config({top:window.innerHeight-200,duration:5});var g=S.c().shape({displayName:S.e().required("Name is required"),firstName:S.e().required("First Name is required"),lastName:S.e().required("Last Name is required")}),w=Object(k.c)({enableReinitialize:!0,initialValues:{displayName:s,firstName:l,lastName:b,email:Object(U.a)(localStorage.getItem("token")).email,image:O},validationSchema:g,onSubmit:function(){var t=Object(y.a)(P.a.mark((function t(a){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(a),T.a.post("".concat("https://edf1-95-217-123-75.eu.ngrok.io","/setting/updateAccount"),a).then((function(t){"success"===t.data.flag&&(e("Update success. To see the updated infomation, please try login again.",{variant:"success"}),localStorage.setItem("token",t.data.token))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),v=w.isSubmitting,B=w.handleSubmit,D=w.getFieldProps;Object(c.useEffect)((function(){T.a.post("".concat("https://edf1-95-217-123-75.eu.ngrok.io","/setting/getAccount"),{email:Object(U.a)(localStorage.getItem("token")).email}).then((function(e){r(e.data.data.username),x(e.data.data.image),u(e.data.data.firstname),m(e.data.data.lastname)}))}),[]);var L={name:"photo",multiple:!1,action:"".concat("https://edf1-95-217-123-75.eu.ngrok.io","/uploadimage"),onChange:function(e){var t=e.file.status;"done"===t?(x(e.file.response.success),console.log(e.file.response.success),V.a.success("".concat(e.file.name," file uploaded successfully."))):"error"===t&&V.a.error("".concat(e.file.name," file upload failed."))}};return Object(W.jsx)(k.b,{value:w,children:Object(W.jsx)(k.a,{autoComplete:"off",noValidate:!0,onSubmit:B,children:Object(W.jsxs)(C.a,{container:!0,spacing:3,children:[Object(W.jsx)(C.a,{item:!0,xs:12,md:4,children:Object(W.jsx)(q.a,{sx:{py:10,px:3,textAlign:"center"},children:Object(W.jsx)("div",{className:"form-group pb-5",children:Object(W.jsxs)("div",{className:"flex  mt-2",children:[Object(W.jsx)(f.a,{sx:{display:"flex",justifyContent:"center"},children:Object(W.jsx)("img",{className:"mr-3 rounded-lg",style:{width:"160px",height:"160px",border:"1px solid #eee",borderRadius:"100%",marginTop:"10px",marginBottom:"10px",padding:"10px"},src:"".concat("https://edf1-95-217-123-75.eu.ngrok.io","/")+O})}),Object(W.jsx)(E.a,{rotate:!0,children:Object(W.jsx)(R,Object(I.a)(Object(I.a)({},L),{},{children:Object(W.jsxs)("div",{children:[Object(W.jsx)(F.a,{style:{color:"#796610",fontSize:"30px"}}),Object(W.jsx)("p",{className:"ant-upload-text p-3",children:"Click or drag file to this area to upload"})]})}))})]})})})}),Object(W.jsx)(C.a,{item:!0,xs:12,md:8,children:Object(W.jsxs)(q.a,{sx:{p:3},children:[Object(W.jsx)(M.a,{sx:{my:"20px"},fullWidth:!0,label:"First Name",value:l,onChange:function(e){return u(e.target.value)}}),Object(W.jsx)(M.a,{sx:{my:"20px"},fullWidth:!0,label:"Last Name",value:b,onChange:function(e){return m(e.target.value)}}),Object(W.jsx)(M.a,{sx:{my:"20px"},fullWidth:!0,label:"Username",value:s,onChange:function(e){return r(e.target.value)}}),Object(W.jsx)(M.a,Object(I.a)({sx:{my:"20px"},fullWidth:!0,disabled:!0,label:"Email Address"},D("email"))),Object(W.jsx)(f.a,{sx:{mt:3,display:"flex",justifyContent:"flex-end"},children:Object(W.jsx)(A.a,{onClick:function(){l&&b&&s||V.a.error("You must type all values.")},type:"submit",variant:"contained",loading:v,children:"Save Changes"})})]})})]})})})}a(1368),a(1544);var z=a(1432),J=a.n(z),Y=a(1434),$=a.n(Y),G=a(1433),H=a.n(G),K=a(1435),Q=a.n(K);a(1367),s.a,H.a,s.a,Q.a,s.a,$.a,s.a,J.a;function X(){var e=Object(x.a)().themeStretch,t=Object(c.useState)("general"),a=Object(n.a)(t,2),i=a[0],l=a[1],v=Object(h.c)();Object(c.useEffect)((function(){v(Object(p.d)()),v(Object(p.c)()),v(Object(p.h)()),v(Object(p.i)()),v(Object(p.k)())}),[v]);var P=[{value:"general",icon:Object(W.jsx)(s.a,{icon:u.a,width:20,height:20}),component:Object(W.jsx)(_,{})},{value:"change_password",icon:Object(W.jsx)(s.a,{icon:o.a,width:20,height:20}),component:Object(W.jsx)(D,{})}];return Object(W.jsx)(g.a,{title:"User: Account Settings | Minimal-UI",children:Object(W.jsxs)(d.a,{maxWidth:!e&&"lg",children:[Object(W.jsx)(w.a,{heading:"Account",links:[{name:"Dashboard",href:O.b.root},{name:"User",href:O.b.user.root},{name:"Account Settings"}]}),Object(W.jsxs)(j.a,{spacing:5,children:[Object(W.jsx)(b.a,{value:i,scrollButtons:"auto",variant:"scrollable",allowScrollButtonsMobile:!0,onChange:function(e,t){l(t)},children:P.map((function(e){return Object(W.jsx)(m.a,{disableRipple:!0,label:Object(r.a)(e.value),icon:e.icon,value:e.value},e.value)}))}),P.map((function(e){return e.value===i&&Object(W.jsx)(f.a,{children:e.component},e.value)}))]})]})})}}}]);
//# sourceMappingURL=29.e55323f5.chunk.js.map