{"version":3,"sources":["utils/formatTime.js","components/HeaderBreadcrumbs.js","components/SearchNotFound.js","components/LightboxModal.js","components/EmojiPicker.js","utils/getFileFormat.js","components/BadgeStatus.js","components/_dashboard/chat/ChatAccount.js","components/_dashboard/chat/ChatContactSearch.js","components/_dashboard/chat/ChatConversationItem.js","components/_dashboard/chat/ChatConversationList.js","components/_dashboard/chat/ChatHeaderCompose.js","components/_dashboard/chat/ChatHeaderDetail.js","components/_dashboard/chat/ChatMessageInput.js","components/_dashboard/chat/ChatMessageItem.js","components/_dashboard/chat/ChatMessageList.js","components/_dashboard/chat/ChatRoomAttachment.js","components/_dashboard/chat/ChatRoomOneParticipant.js","components/_dashboard/chat/ChatRoomPopup.js","components/_dashboard/chat/ChatRoomGroupParticipant.js","components/_dashboard/chat/ChatRoom.js","components/_dashboard/chat/ChatSearchResults.js","components/_dashboard/chat/ChatSidebar.js","components/_dashboard/chat/ChatWindow.js","pages/dashboard/Chat.js"],"names":["fDate","date","format","Date","fDateTime","fDateTimeSuffix","fToNow","formatDistanceToNow","addSuffix","HeaderBreadcrumbs","links","action","heading","moreLink","sx","other","mb","display","alignItems","flexGrow","variant","gutterBottom","flexShrink","mt","isString","href","target","map","noWrap","SearchNotFound","searchQuery","align","LightboxModalStyles","theme","useTheme","isRTL","direction","backgroundIcon","iconName","backgroundSize","backgroundPosition","backgroundRepeat","backgroundColor","alpha","palette","grey","backgroundImage","styles","backdropFilter","height","padding","spacing","width","justifyContent","marginLeft","borderRadius","shape","outline","borderRadiusSm","left","right","LightboxModal","images","photoIndex","setPhotoIndex","isOpen","onClose","useEffect","document","body","style","overflow","toolbarButtons","length","animationDuration","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","reactModalStyle","overlay","zIndex","RootStyle","styled","position","PickerStyle","bottom","boxShadow","customShadows","z20","borderRadiusMd","border","background","paper","color","text","disabled","primary","borderColor","divider","typography","body2","opacity","fill","subtitle2","WebkitBackdropFilter","selected","secondary","EmojiPicker","emojiPicker","value","setValue","alignRight","useState","emojiPickerState","SetEmojiPicker","main","title","emoji","onSelect","native","onClickAway","size","onClick","e","preventDefault","icon","smilingFaceFill","FORMAT_IMG","FORMAT_VIDEO","FORMAT_WORD","FORMAT_EXCEL","FORMAT_POWERPOINT","FORMAT_PDF","FORMAT_PHOTOSHOP","FORMAT_ILLUSTRATOR","getFileType","fileUrl","split","pop","getFileName","substring","lastIndexOf","replace","getFileFullName","getIcon","name","component","src","alt","getFileThumb","thumb","includes","getFileFormat","Icon","fileFill","ownerState","status","content","common","white","warning","transform","error","success","info","BadgeStatus","STATUS","ChatAccount","anchorRef","useRef","open","setOpen","setStatus","Box","ref","MyAvatar","cursor","Popover","anchorEl","current","anchorOrigin","vertical","horizontal","transformOrigin","py","pr","pl","ml","mr","Typography","Tooltip","IconButton","roundPowerSettingsNew","Divider","List","ListItem","px","ListItemIcon","m","ListItemText","Select","onChange","event","p","option","capitalCase","ListItemButton","roundAccountBox","primaryTypographyProps","settings2Fill","marginTop","SearchStyle","OutlinedInput","transition","transitions","create","easing","easeInOut","duration","shorter","z8","borderWidth","ChatContactSearch","query","onFocus","ClickAwayListener","FormControl","fullWidth","placeholder","startAdornment","InputAdornment","searchFill","AvatarWrapperStyle","ChatConversationItem","isSelected","conversation","isOpenSidebar","onSelectConversation","details","currentUserId","otherParticipants","participants","filter","participant","id","displayNames","reduce","names","join","displayText","lastMessage","messages","sender","senderId","message","contentType","getDetails","displayLastActivity","last","createdAt","isGroup","isUnread","unreadCount","isOnlineGroup","item","bgcolor","ListItemAvatar","top","slice","className","Avatar","avatar","secondaryTypographyProps","flexDirection","fontSize","lineHeight","whiteSpace","formatDistanceToNowStrict","ChatConversationList","conversations","activeConversationId","navigate","useNavigate","disablePadding","allIds","conversationId","byId","conversationKey","type","find","username","PATH_DASHBOARD","chat","root","handleSelectConversation","AutocompleteStyle","minWidth","ChatHeaderCompose","contacts","recipients","onAddRecipients","setQuery","Autocomplete","multiple","disablePortal","popupIcon","clearText","noOptionsText","recipient","onInputChange","options","getOptionLabel","renderOption","props","inputValue","matches","match","parts","parse","checkmarkFill","part","index","highlight","renderTags","getTagProps","Chip","key","label","renderInput","params","TextField","minHeight","OneAvatar","undefined","lastActivity","GroupAvatar","AvatarGroup","max","Link","underline","arrowIosForwardFill","ChatHeaderDetail","phoneFill","videoFill","moreVerticalFill","paddingLeft","ChatMessageInput","onSend","fileInputRef","setMessage","handleAttach","click","handleSend","messageId","uuidv4","attachments","Input","disableUnderline","onKeyUp","endAdornment","Stack","roundAddPhotoAlternate","attach2Fill","micFill","orientation","flexItem","mx","roundSend","marginBottom","ContentStyle","maxWidth","neutral","InfoStyle","MessageImgStyle","objectFit","breakpoints","up","ChatMessageItem","onOpenLightbox","senderDetails","isMe","isImage","firstName","ChatMessageList","scrollRef","openLightbox","setOpenLightbox","selectedImage","setSelectedImage","scrollTop","scrollHeight","handleOpenLightbox","url","findIndex","Scrollbar","scrollableNodeProps","paddingBottom","FileItemStyle","FileThumbStyle","CollapseButtonStyle","Button","overline","AttachmentItem","file","ChatRoomAttachment","isCollapse","onCollapse","totalAttachment","uniq","flatten","endIcon","arrowIosDownwardFill","Collapse","in","RowIconStyle","RowTextStyle","wordWrap","ChatRoomOneParticipant","pt","pb","textAlign","pinFill","address","phone","emailFill","email","RowStyle","IconStyle","marginRight","ChatRoomPopup","DialogContent","paragraph","Participant","onClosePopup","onShowPopup","ChatRoomGroupParticipant","selectUserId","onShowPopupUserInfo","disableRipple","HEIGHT","DRAWER_WIDTH","ToggleButtonStyle","borderRight","ChatRoom","openSidebar","setOpenSidebar","showInfo","setShowInfo","selectUser","setSelectUser","showAttachment","setShowAttachment","showParticipants","setShowParticipants","isMobile","useMediaQuery","down","handleCloseSidebar","handleOpenSidebar","renderContent","participantId","prev","arrowIosBackFill","Drawer","anchor","ModalProps","keepMounted","ChatSearchResults","results","onSelectContact","isFound","result","contrastText","darker","ChatSidebar","pathname","useLocation","setSearchQuery","searchResults","setSearchResults","isSearchFocused","setSearchFocused","useSelector","state","displayResults","handleToggleSidebar","handleChangeSearch","axios","get","response","data","console","handleSearchSelect","to","new","RouterLink","editFill","peopleFill","visibility","ChatWindow","dispatch","useDispatch","useParams","conversationSelector","mode","displayParticipants","a","getParticipants","getConversation","resetActiveConversation","markConversationAsRead","handleSendMessage","onSendMessage","Object","values","addRecipients","Chat","themeStretch","useSettings","getConversations","getContacts","Page","Container","Card"],"mappings":"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","file":"static/js/56.fb2ccf6a.chunk.js","sourcesContent":["import { format, getTime, formatDistanceToNow } from 'date-fns';\n\n// ----------------------------------------------------------------------\n\nexport function fDate(date) {\n  return format(new Date(date), 'MMMM dd');\n}\n\nexport function fDateTime(date) {\n  return format(new Date(date), 'dd MMM yyyy HH:mm');\n}\n\nexport function fTimestamp(date) {\n  return getTime(new Date(date));\n}\n\nexport function fDateTimeSuffix(date) {\n  return format(new Date(date), 'dd/MM/yyyy hh:mm p');\n}\n\nexport function fToNow(date) {\n  return formatDistanceToNow(new Date(date), {\n    addSuffix: true\n  });\n}\n","import { isString } from 'lodash';\nimport PropTypes from 'prop-types';\n// material\nimport { Box, Typography, Link } from '@mui/material';\n//\nimport { MBreadcrumbs } from './@material-extend';\n\n// ----------------------------------------------------------------------\n\nHeaderBreadcrumbs.propTypes = {\n  links: PropTypes.array,\n  action: PropTypes.node,\n  heading: PropTypes.string.isRequired,\n  moreLink: PropTypes.oneOfType([PropTypes.string, PropTypes.array]),\n  sx: PropTypes.object\n};\n\nexport default function HeaderBreadcrumbs({ links, action, heading, moreLink = '' || [], sx, ...other }) {\n  return (\n    <Box sx={{ mb: 5, ...sx }}>\n      <Box sx={{ display: 'flex', alignItems: 'center' }}>\n        <Box sx={{ flexGrow: 1 }}>\n          <Typography variant=\"h4\" gutterBottom>\n            {heading}\n          </Typography>\n          <MBreadcrumbs links={links} {...other} />\n        </Box>\n\n        {action && <Box sx={{ flexShrink: 0 }}>{action}</Box>}\n      </Box>\n\n      <Box sx={{ mt: 2 }}>\n        {isString(moreLink) ? (\n          <Link href={moreLink} target=\"_blank\" variant=\"body2\">\n            {moreLink}\n          </Link>\n        ) : (\n          moreLink.map((href) => (\n            <Link noWrap key={href} href={href} variant=\"body2\" target=\"_blank\" sx={{ display: 'table' }}>\n              {href}\n            </Link>\n          ))\n        )}\n      </Box>\n    </Box>\n  );\n}\n","import PropTypes from 'prop-types';\n// material\nimport { Paper, Typography } from '@mui/material';\n\n// ----------------------------------------------------------------------\n\nSearchNotFound.propTypes = {\n  searchQuery: PropTypes.string\n};\n\nexport default function SearchNotFound({ searchQuery = '', ...other }) {\n  return (\n    <Paper {...other}>\n      <Typography gutterBottom align=\"center\" variant=\"subtitle1\">\n        Not found\n      </Typography>\n      <Typography variant=\"body2\" align=\"center\">\n        No results found for &nbsp;\n        <strong>&quot;{searchQuery}&quot;</strong>. Try checking for typos or using complete words.\n      </Typography>\n    </Paper>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { useEffect } from 'react';\nimport Lightbox from 'react-image-lightbox';\n// material\nimport { alpha, useTheme } from '@mui/material/styles';\nimport { Typography, GlobalStyles } from '@mui/material';\n\n// ----------------------------------------------------------------------\n\nfunction LightboxModalStyles() {\n  const theme = useTheme();\n  const isRTL = theme.direction === 'rtl';\n\n  const backgroundIcon = (iconName) => ({\n    backgroundSize: '24px 24px',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    backgroundColor: alpha(theme.palette.grey[900], 0.8),\n    backgroundImage: `url(\"/static/icons/controls/${iconName}.svg\")`\n  });\n\n  return (\n    <GlobalStyles\n      styles={{\n        '& .ReactModalPortal': {\n          '& .ril__outer': {\n            backdropFilter: 'blur(8px)',\n            backgroundColor: alpha(theme.palette.grey[900], 0.88)\n          },\n\n          // Toolbar\n          '& .ril__toolbar': {\n            height: 'auto !important',\n            padding: theme.spacing(2, 3),\n            backgroundColor: 'transparent'\n          },\n          '& .ril__toolbarLeftSide': { display: 'none' },\n          '& .ril__toolbarRightSide': {\n            height: 'auto !important',\n            padding: 0,\n            flexGrow: 1,\n            display: 'flex',\n            alignItems: 'center',\n            '& li': {\n              display: 'flex',\n              alignItems: 'center'\n            },\n            '& li:first-of-type': {\n              flexGrow: 1\n            },\n            '& li:not(:first-of-type)': {\n              width: theme.spacing(5),\n              height: theme.spacing(5),\n              justifyContent: 'center',\n              marginLeft: theme.spacing(1),\n              borderRadius: theme.shape.borderRadius\n            }\n          },\n\n          // Button\n          '& button:focus': { outline: 'none' },\n          '& .ril__toolbarRightSide button': {\n            width: '100%',\n            height: '100%',\n            '&.ril__zoomInButton': backgroundIcon('maximize-outline'),\n            '&.ril__zoomOutButton': backgroundIcon('minimize-outline'),\n            '&.ril__closeButton': backgroundIcon('close')\n          },\n          '& .ril__navButtons': {\n            padding: theme.spacing(3),\n            borderRadius: theme.shape.borderRadiusSm,\n            '&.ril__navButtonPrev': {\n              left: theme.spacing(2),\n              right: 'auto',\n              ...backgroundIcon(isRTL ? 'arrow-ios-forward' : 'arrow-ios-back')\n            },\n            '&.ril__navButtonNext': {\n              right: theme.spacing(2),\n              left: 'auto',\n              ...backgroundIcon(isRTL ? 'arrow-ios-back' : 'arrow-ios-forward')\n            }\n          }\n        }\n      }}\n    />\n  );\n}\n\nLightboxModal.propTypes = {\n  images: PropTypes.array.isRequired,\n  photoIndex: PropTypes.number,\n  setPhotoIndex: PropTypes.func,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func\n};\n\nexport default function LightboxModal({ images, photoIndex, setPhotoIndex, isOpen, onClose, ...other }) {\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n  }, [isOpen]);\n\n  const showIndex = <Typography variant=\"subtitle2\">{`${photoIndex + 1} / ${images.length}`}</Typography>;\n\n  const toolbarButtons = [showIndex];\n  const customStyles = {\n    overlay: {\n      zIndex: 9999\n    }\n  };\n\n  return (\n    <>\n      <LightboxModalStyles />\n\n      {isOpen && (\n        <Lightbox\n          animationDuration={120}\n          mainSrc={images[photoIndex]}\n          nextSrc={images[(photoIndex + 1) % images.length]}\n          prevSrc={images[(photoIndex + images.length - 1) % images.length]}\n          onCloseRequest={onClose}\n          onMovePrevRequest={() => setPhotoIndex((photoIndex + images.length - 1) % images.length)}\n          onMoveNextRequest={() => setPhotoIndex((photoIndex + 1) % images.length)}\n          toolbarButtons={toolbarButtons}\n          reactModalStyle={customStyles}\n          {...other}\n        />\n      )}\n    </>\n  );\n}\n","import 'emoji-mart/css/emoji-mart.css';\nimport PropTypes from 'prop-types';\nimport { Picker } from 'emoji-mart';\nimport { Icon } from '@iconify/react';\nimport { useState } from 'react';\nimport smilingFaceFill from '@iconify/icons-eva/smiling-face-fill';\n// material\nimport { alpha, useTheme, styled } from '@mui/material/styles';\nimport { IconButton, ClickAwayListener } from '@mui/material';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')({\n  position: 'relative'\n});\n\nconst PickerStyle = styled('div')(({ theme }) => ({\n  bottom: 40,\n  overflow: 'hidden',\n  position: 'absolute',\n  left: theme.spacing(-2),\n  boxShadow: theme.customShadows.z20,\n  borderRadius: theme.shape.borderRadiusMd,\n  '& .emoji-mart': {\n    border: 'none',\n    backgroundColor: theme.palette.background.paper\n  },\n  '& .emoji-mart-anchor': {\n    color: theme.palette.text.disabled,\n    '&:hover, &:focus, &.emoji-mart-anchor-selected': {\n      color: theme.palette.text.primary\n    }\n  },\n  '& .emoji-mart-bar': { borderColor: theme.palette.divider },\n  '& .emoji-mart-search input': {\n    backgroundColor: 'transparent',\n    color: theme.palette.text.primary,\n    borderColor: theme.palette.grey[500_32],\n    '&::placeholder': {\n      ...theme.typography.body2,\n      color: theme.palette.text.disabled\n    }\n  },\n  '& .emoji-mart-search-icon svg': {\n    opacity: 1,\n    fill: theme.palette.text.disabled\n  },\n  '& .emoji-mart-category-label span': {\n    ...theme.typography.subtitle2,\n    backdropFilter: 'blur(8px)',\n    WebkitBackdropFilter: 'blur(8px)', // Fix on Mobile\n    color: theme.palette.text.primary,\n    backgroundColor: alpha(theme.palette.background.paper, 0.8)\n  },\n  '& .emoji-mart-title-label': { color: theme.palette.text.primary },\n  '& .emoji-mart-category .emoji-mart-emoji:hover:before': {\n    backgroundColor: theme.palette.action.selected\n  },\n  '& .emoji-mart-emoji': { outline: 'none' },\n  '& .emoji-mart-preview-name': {\n    color: theme.palette.text.primary\n  },\n  '& .emoji-mart-preview-shortname, .emoji-mart-preview-emoticon': {\n    color: theme.palette.text.secondary\n  }\n}));\n\n// ----------------------------------------------------------------------\n\nEmojiPicker.propTypes = {\n  disabled: PropTypes.bool,\n  value: PropTypes.string,\n  setValue: PropTypes.func,\n  alignRight: PropTypes.bool\n};\n\nexport default function EmojiPicker({ disabled, value, setValue, alignRight = false, ...other }) {\n  const theme = useTheme();\n  const [emojiPickerState, SetEmojiPicker] = useState(false);\n\n  let emojiPicker;\n  if (emojiPickerState) {\n    emojiPicker = (\n      <Picker\n        color={theme.palette.primary.main}\n        title=\"Pick your emoji\"\n        emoji=\"point_up\"\n        onSelect={(emoji) => setValue(value + emoji.native)}\n      />\n    );\n  }\n\n  const triggerPicker = (e) => {\n    e.preventDefault();\n    SetEmojiPicker(!emojiPickerState);\n  };\n\n  const handleClickAway = () => {\n    SetEmojiPicker(false);\n  };\n\n  return (\n    <ClickAwayListener onClickAway={handleClickAway}>\n      <RootStyle {...other}>\n        <PickerStyle\n          sx={{\n            ...(alignRight && {\n              right: -2,\n              left: 'auto !important'\n            })\n          }}\n        >\n          {emojiPicker}\n        </PickerStyle>\n        <IconButton disabled={disabled} size=\"small\" onClick={triggerPicker}>\n          <Icon icon={smilingFaceFill} width={20} height={20} />\n        </IconButton>\n      </RootStyle>\n    </ClickAwayListener>\n  );\n}\n","// material\nimport { Box } from '@mui/material';\n//\nimport { Icon } from '@iconify/react';\nimport fileFill from '@iconify/icons-eva/file-fill';\n\n// ----------------------------------------------------------------------\n\nconst FORMAT_IMG = ['jpg', 'jpeg', 'gif', 'bmp', 'png'];\nconst FORMAT_VIDEO = ['m4v', 'avi', 'mpg', 'mp4', 'webm'];\nconst FORMAT_WORD = ['doc', 'docx'];\nconst FORMAT_EXCEL = ['xls', 'xlsx'];\nconst FORMAT_POWERPOINT = ['ppt', 'pptx'];\nconst FORMAT_PDF = ['pdf'];\nconst FORMAT_PHOTOSHOP = ['psd'];\nconst FORMAT_ILLUSTRATOR = ['ai', 'esp'];\n\nexport function getFileType(fileUrl) {\n  return fileUrl.split('.').pop();\n}\n\nexport function getFileName(fileUrl) {\n  return fileUrl.substring(fileUrl.lastIndexOf('/') + 1).replace(/\\.[^/.]+$/, '');\n}\n\nexport function getFileFullName(fileUrl) {\n  return fileUrl.split('/').pop();\n}\n\nexport function getFileFormat(fileUrl) {\n  let format;\n\n  switch (fileUrl.includes(getFileType(fileUrl))) {\n    case FORMAT_IMG.includes(getFileType(fileUrl)):\n      format = 'image';\n      break;\n    case FORMAT_VIDEO.includes(getFileType(fileUrl)):\n      format = 'video';\n      break;\n    case FORMAT_WORD.includes(getFileType(fileUrl)):\n      format = 'word';\n      break;\n    case FORMAT_EXCEL.includes(getFileType(fileUrl)):\n      format = 'excel';\n      break;\n    case FORMAT_POWERPOINT.includes(getFileType(fileUrl)):\n      format = 'powerpoint';\n      break;\n    case FORMAT_PDF.includes(getFileType(fileUrl)):\n      format = 'pdf';\n      break;\n    case FORMAT_PHOTOSHOP.includes(getFileType(fileUrl)):\n      format = 'photoshop';\n      break;\n    case FORMAT_ILLUSTRATOR.includes(getFileType(fileUrl)):\n      format = 'illustrator';\n      break;\n    default:\n      format = getFileType(fileUrl);\n  }\n\n  return format;\n}\n\nconst getIcon = (name) => (\n  <Box component=\"img\" src={`/static/icons/file/${name}.svg`} alt={name} sx={{ width: 28, height: 28 }} />\n);\n\nexport function getFileThumb(fileUrl) {\n  let thumb;\n  switch (getFileFormat(fileUrl)) {\n    case 'image':\n      thumb = <Box component=\"img\" src={fileUrl} alt={fileUrl} sx={{ width: 1, height: 1 }} />;\n      break;\n    case 'video':\n      thumb = getIcon('file_type_video');\n      break;\n    case 'word':\n      thumb = getIcon('file_type_word');\n      break;\n    case 'excel':\n      thumb = getIcon('file_type_excel');\n      break;\n    case 'powerpoint':\n      thumb = getIcon('file_type_powerpoint');\n      break;\n    case 'pdf':\n      thumb = getIcon('file_type_pdf');\n      break;\n    case 'photoshop':\n      thumb = getIcon('file_type_photoshop');\n      break;\n    case 'illustrator':\n      thumb = getIcon('file_type_ai');\n      break;\n    default:\n      thumb = <Box component={Icon} icon={fileFill} sx={{ width: 28, height: 28 }} />;\n  }\n  return thumb;\n}\n","import PropTypes from 'prop-types';\n// material\nimport { styled } from '@mui/material/styles';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('span')(({ theme, ownerState }) => {\n  const { status, size } = ownerState;\n\n  return {\n    width: 10,\n    height: 10,\n    display: 'flex',\n    borderRadius: '50%',\n    alignItems: 'center',\n    justifyContent: 'center',\n    '&:before, &:after': {\n      content: \"''\",\n      borderRadius: 1,\n      backgroundColor: theme.palette.common.white\n    },\n\n    ...(size === 'small' && { width: 8, height: 8 }),\n\n    ...(size === 'large' && { width: 12, height: 12 }),\n\n    ...(status === 'offline' && { backgroundColor: 'transparent' }),\n\n    ...(status === 'away' && {\n      backgroundColor: theme.palette.warning.main,\n      '&:before': {\n        width: 2,\n        height: 4,\n        transform: 'translateX(1px) translateY(-1px)'\n      },\n      '&:after': {\n        width: 2,\n        height: 4,\n        transform: 'translateY(1px) rotate(125deg)'\n      }\n    }),\n\n    ...(status === 'busy' && {\n      backgroundColor: theme.palette.error.main,\n      '&:before': { width: 6, height: 2 }\n    }),\n\n    ...(status === 'online' && {\n      backgroundColor: theme.palette.success.main\n    }),\n\n    ...(status === 'invisible' && {\n      backgroundColor: theme.palette.text.disabled,\n      '&:before': {\n        width: 6,\n        height: 6,\n        borderRadius: '50%'\n      }\n    }),\n\n    ...(status === 'unread' && {\n      backgroundColor: theme.palette.info.main\n    })\n  };\n});\n\n// ----------------------------------------------------------------------\n\nBadgeStatus.propTypes = {\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n  status: PropTypes.oneOf(['away', 'busy', 'unread', 'online', 'offline', 'invisible'])\n};\n\nexport default function BadgeStatus({ size = 'medium', status = 'offline', ...other }) {\n  return <RootStyle ownerState={{ status, size }} {...other} />;\n}\n","import { Icon } from '@iconify/react';\nimport { useState, useRef } from 'react';\nimport { capitalCase } from 'change-case';\nimport settings2Fill from '@iconify/icons-eva/settings-2-fill';\nimport roundAccountBox from '@iconify/icons-ic/round-account-box';\nimport roundPowerSettingsNew from '@iconify/icons-ic/round-power-settings-new';\n// material\nimport {\n  Box,\n  List,\n  Select,\n  Divider,\n  Popover,\n  Tooltip,\n  ListItem,\n  Typography,\n  IconButton,\n  ListItemText,\n  ListItemIcon,\n  ListItemButton\n} from '@mui/material';\n// hooks\n//\nimport MyAvatar from '../../MyAvatar';\nimport BadgeStatus from '../../BadgeStatus';\n\n// ----------------------------------------------------------------------\n\nconst STATUS = ['online', 'invisible', 'away'];\n\nexport default function ChatAccount() {\n  const anchorRef = useRef(null);\n  const [open, setOpen] = useState(false);\n  const [status, setStatus] = useState('online');\n\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleChangeStatus = (event) => {\n    setStatus(event.target.value);\n  };\n\n  return (\n    <>\n      <Box ref={anchorRef} sx={{ position: 'relative' }}>\n        <MyAvatar onClick={handleOpen} sx={{ cursor: 'pointer', width: 48, height: 48 }} />\n        <BadgeStatus status={status} sx={{ position: 'absolute', bottom: 2, right: 2 }} />\n      </Box>\n\n      <Popover\n        open={open}\n        onClose={handleClose}\n        anchorEl={anchorRef.current}\n        anchorOrigin={{ vertical: 'top', horizontal: 'left' }}\n        transformOrigin={{ vertical: 'top', horizontal: 'left' }}\n      >\n        <Box sx={{ py: 2, pr: 1, pl: 2.5, display: 'flex', alignItems: 'center' }}>\n          <MyAvatar />\n\n          <Box sx={{ ml: 2, mr: 3 }}>\n            <Typography noWrap variant=\"subtitle1\">\n              {'user.displayName'}\n            </Typography>\n            <Typography noWrap variant=\"body2\" sx={{ color: 'text.secondary' }}>\n              {'user.email'}\n            </Typography>\n          </Box>\n\n          <Tooltip title=\"Log out\">\n            <IconButton>\n              <Icon icon={roundPowerSettingsNew} width={24} height={24} />\n            </IconButton>\n          </Tooltip>\n        </Box>\n\n        <Divider />\n\n        <List>\n          <ListItem sx={{ px: 2.5 }}>\n            <ListItemIcon>\n              <BadgeStatus size=\"large\" status={status} sx={{ m: 0.75 }} />\n            </ListItemIcon>\n            <ListItemText>\n              <Select\n                native\n                value={status}\n                onChange={handleChangeStatus}\n                sx={{\n                  '& svg': { display: `none` },\n                  '& select': { p: 0, typography: 'body2' },\n                  '& fieldset': { display: 'none' }\n                }}\n              >\n                {STATUS.map((option) => (\n                  <option key={option} value={option}>\n                    {capitalCase(option)}\n                  </option>\n                ))}\n              </Select>\n            </ListItemText>\n          </ListItem>\n\n          <ListItemButton sx={{ px: 2.5 }}>\n            <ListItemIcon>\n              <Icon icon={roundAccountBox} width={24} height={24} />\n            </ListItemIcon>\n            <ListItemText primary=\"Profile\" primaryTypographyProps={{ variant: 'body2' }} />\n          </ListItemButton>\n\n          <ListItemButton sx={{ px: 2.5 }}>\n            <ListItemIcon>\n              <Icon icon={settings2Fill} width={24} height={24} />\n            </ListItemIcon>\n            <ListItemText primary=\"Settings\" primaryTypographyProps={{ variant: 'body2' }} />\n          </ListItemButton>\n        </List>\n      </Popover>\n    </>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport searchFill from '@iconify/icons-eva/search-fill';\n// material\nimport { styled } from '@mui/material/styles';\nimport { Box, FormControl, OutlinedInput, InputAdornment, ClickAwayListener } from '@mui/material';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  marginTop: theme.spacing(2)\n}));\n\nconst SearchStyle = styled(OutlinedInput)(({ theme }) => ({\n  transition: theme.transitions.create('box-shadow', {\n    easing: theme.transitions.easing.easeInOut,\n    duration: theme.transitions.duration.shorter\n  }),\n  '&.Mui-focused': { boxShadow: theme.customShadows.z8 },\n  '& fieldset': {\n    borderWidth: `1px !important`,\n    borderColor: `${theme.palette.grey[500_32]} !important`\n  }\n}));\n\n// ----------------------------------------------------------------------\n\nChatContactSearch.propTypes = {\n  query: PropTypes.string,\n  onChange: PropTypes.func,\n  onFocus: PropTypes.func,\n  onClickAway: PropTypes.func\n};\n\nexport default function ChatContactSearch({ query, onChange, onFocus, onClickAway, ...other }) {\n  return (\n    <ClickAwayListener onClickAway={onClickAway}>\n      <RootStyle {...other}>\n        <FormControl fullWidth size=\"small\">\n          <SearchStyle\n            value={query}\n            onFocus={onFocus}\n            onChange={onChange}\n            placeholder=\"Search contacts...\"\n            startAdornment={\n              <InputAdornment position=\"start\">\n                <Box component={Icon} icon={searchFill} sx={{ color: 'text.disabled' }} />\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      </RootStyle>\n    </ClickAwayListener>\n  );\n}\n","import { last } from 'lodash';\nimport PropTypes from 'prop-types';\nimport { formatDistanceToNowStrict } from 'date-fns';\n// material\nimport { styled } from '@mui/material/styles';\nimport { Box, Avatar, ListItemText, ListItemAvatar, ListItemButton } from '@mui/material';\n//\nimport BadgeStatus from '../../BadgeStatus';\n\n// ----------------------------------------------------------------------\n\nconst AVATAR_SIZE = 48;\nconst AVATAR_SIZE_GROUP = 32;\n\nconst RootStyle = styled(ListItemButton)(({ theme }) => ({\n  padding: theme.spacing(1.5, 3),\n  transition: theme.transitions.create('all')\n}));\n\nconst AvatarWrapperStyle = styled('div')({\n  position: 'relative',\n  width: AVATAR_SIZE,\n  height: AVATAR_SIZE,\n  '& .MuiAvatar-img': { borderRadius: '50%' },\n  '& .MuiAvatar-root': { width: '100%', height: '100%' }\n});\n\n// ----------------------------------------------------------------------\n\nconst getDetails = (conversation, currentUserId) => {\n  const otherParticipants = conversation.participants.filter((participant) => participant.id !== currentUserId);\n  const displayNames = otherParticipants.reduce((names, participant) => [...names, participant.name], []).join(', ');\n  let displayText = '';\n  const lastMessage = conversation.messages[conversation.messages.length - 1];\n  if (lastMessage) {\n    const sender = lastMessage.senderId === currentUserId ? 'You: ' : '';\n    const message = lastMessage.contentType === 'image' ? 'Sent a photo' : lastMessage.body;\n    displayText = `${sender}${message}`;\n  }\n  return { otherParticipants, displayNames, displayText };\n};\n\nChatConversationItem.propTypes = {\n  isSelected: PropTypes.bool,\n  conversation: PropTypes.object.isRequired,\n  isOpenSidebar: PropTypes.bool,\n  onSelectConversation: PropTypes.func\n};\n\nexport default function ChatConversationItem({ isSelected, conversation, isOpenSidebar, onSelectConversation }) {\n  const details = getDetails(conversation, '8864c717-587d-472a-929a-8e5f298024da-0');\n\n  const displayLastActivity = last(conversation.messages).createdAt;\n  const isGroup = details.otherParticipants.length > 1;\n  const isUnread = conversation.unreadCount > 0;\n  const isOnlineGroup = isGroup && details.otherParticipants.map((item) => item.status).includes('online');\n\n  return (\n    <RootStyle\n      onClick={onSelectConversation}\n      sx={{\n        ...(isSelected && { bgcolor: 'action.selected' })\n      }}\n    >\n      <ListItemAvatar>\n        <Box\n          sx={{\n            ...(isGroup && {\n              position: 'relative',\n              width: AVATAR_SIZE,\n              height: AVATAR_SIZE,\n              '& .avatarWrapper': {\n                position: 'absolute',\n                width: AVATAR_SIZE_GROUP,\n                height: AVATAR_SIZE_GROUP,\n                '&:nth-of-type(1)': {\n                  left: 0,\n                  zIndex: 9,\n                  bottom: 2,\n                  '& .MuiAvatar-root': {\n                    border: (theme) => `solid 2px ${theme.palette.background.paper}`\n                  }\n                },\n                '&:nth-of-type(2)': { top: 2, right: 0 }\n              }\n            })\n          }}\n        >\n          {details.otherParticipants.slice(0, 2).map((participant) => (\n            <AvatarWrapperStyle className=\"avatarWrapper\" key={participant.id}>\n              <Avatar alt={participant.name} src={participant.avatar} />\n              {!isGroup && (\n                <BadgeStatus status={participant.status} sx={{ right: 2, bottom: 2, position: 'absolute' }} />\n              )}\n            </AvatarWrapperStyle>\n          ))}\n\n          {isOnlineGroup && <BadgeStatus status=\"online\" sx={{ right: 2, bottom: 2, position: 'absolute' }} />}\n        </Box>\n      </ListItemAvatar>\n\n      {isOpenSidebar && (\n        <>\n          <ListItemText\n            primary={details.displayNames}\n            primaryTypographyProps={{\n              noWrap: true,\n              variant: 'subtitle2'\n            }}\n            secondary={details.displayText}\n            secondaryTypographyProps={{\n              noWrap: true,\n              variant: isUnread ? 'subtitle2' : 'body2',\n              color: isUnread ? 'textPrimary' : 'textSecondary'\n            }}\n          />\n\n          <Box\n            sx={{\n              ml: 2,\n              height: 44,\n              display: 'flex',\n              alignItems: 'flex-end',\n              flexDirection: 'column'\n            }}\n          >\n            <Box\n              sx={{\n                mb: 1.25,\n                fontSize: 12,\n                lineHeight: '22px',\n                whiteSpace: 'nowrap',\n                color: 'text.disabled'\n              }}\n            >\n              {formatDistanceToNowStrict(new Date(displayLastActivity), {\n                addSuffix: false\n              })}\n            </Box>\n            {isUnread && <BadgeStatus status=\"unread\" size=\"small\" />}\n          </Box>\n        </>\n      )}\n    </RootStyle>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { useNavigate } from 'react-router-dom';\n// material\nimport { List } from '@mui/material';\n// routes\nimport { PATH_DASHBOARD } from '../../../routes/paths';\n//\nimport ChatConversationItem from './ChatConversationItem';\n\n// ----------------------------------------------------------------------\n\nChatConversationList.propTypes = {\n  conversations: PropTypes.object,\n  isOpenSidebar: PropTypes.bool,\n  activeConversationId: PropTypes.string\n};\n\nexport default function ChatConversationList({ conversations, isOpenSidebar, activeConversationId, ...other }) {\n  const navigate = useNavigate();\n\n  const handleSelectConversation = (conversationId) => {\n    let conversationKey = '';\n    const conversation = conversations.byId[conversationId];\n    if (conversation.type === 'GROUP') {\n      conversationKey = conversation.id;\n    } else {\n      const otherParticipant = conversation.participants.find(\n        (participant) => participant.id !== '8864c717-587d-472a-929a-8e5f298024da-0'\n      );\n      conversationKey = otherParticipant.username;\n    }\n    navigate(`${PATH_DASHBOARD.chat.root}/${conversationKey}`);\n  };\n\n  return (\n    <List disablePadding {...other}>\n      {conversations.allIds.map((conversationId) => (\n        <ChatConversationItem\n          key={conversationId}\n          isOpenSidebar={isOpenSidebar}\n          conversation={conversations.byId[conversationId]}\n          isSelected={activeConversationId === conversationId}\n          onSelectConversation={() => handleSelectConversation(conversationId)}\n        />\n      ))}\n    </List>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport { useState } from 'react';\nimport parse from 'autosuggest-highlight/parse';\nimport match from 'autosuggest-highlight/match';\nimport checkmarkFill from '@iconify/icons-eva/checkmark-fill';\n// material\nimport { alpha, styled } from '@mui/material/styles';\nimport { Box, Avatar, TextField, Typography, Autocomplete, Chip } from '@mui/material';\n//\nimport SearchNotFound from '../../SearchNotFound';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  padding: theme.spacing(2, 3)\n}));\n\nconst AutocompleteStyle = styled('div')(({ theme }) => ({\n  '& .MuiAutocomplete-root': {\n    minWidth: 280,\n    marginLeft: theme.spacing(2),\n    '&.Mui-focused .MuiAutocomplete-inputRoot': {\n      boxShadow: theme.customShadows.z8\n    }\n  },\n  '& .MuiAutocomplete-inputRoot': {\n    transition: theme.transitions.create('box-shadow', {\n      easing: theme.transitions.easing.easeInOut,\n      duration: theme.transitions.duration.shorter\n    }),\n    '& fieldset': {\n      borderWidth: `1px !important`,\n      borderColor: `${theme.palette.grey[500_32]} !important`\n    }\n  }\n}));\n\n// ----------------------------------------------------------------------\n\nChatHeaderCompose.propTypes = {\n  contacts: PropTypes.array,\n  recipients: PropTypes.array,\n  onAddRecipients: PropTypes.func\n};\n\nexport default function ChatHeaderCompose({ contacts, recipients, onAddRecipients, ...other }) {\n  const [query, setQuery] = useState('');\n\n  const handleChangeQuery = (event) => {\n    setQuery(event.target.value);\n  };\n\n  const handleAddRecipients = (event, recipient) => {\n    setQuery('');\n    onAddRecipients(recipient);\n  };\n\n  return (\n    <RootStyle {...other}>\n      <Typography variant=\"subtitle2\" sx={{ color: 'text.secondary' }}>\n        To:\n      </Typography>\n\n      <AutocompleteStyle>\n        <Autocomplete\n          multiple\n          size=\"small\"\n          disablePortal\n          popupIcon={null}\n          clearText={null}\n          noOptionsText={<SearchNotFound searchQuery={query} />}\n          onChange={handleAddRecipients}\n          onInputChange={handleChangeQuery}\n          options={contacts}\n          getOptionLabel={(recipient) => recipient.name}\n          renderOption={(props, recipient, { inputValue, selected }) => {\n            const { name, avatar } = recipient;\n            const matches = match(name, inputValue);\n            const parts = parse(name, matches);\n            return (\n              <li {...props}>\n                <Box\n                  sx={{\n                    width: 32,\n                    height: 32,\n                    overflow: 'hidden',\n                    borderRadius: '50%',\n                    position: 'relative'\n                  }}\n                >\n                  <Avatar alt={name} src={avatar} />\n                  <Box\n                    sx={{\n                      top: 0,\n                      opacity: 0,\n                      width: '100%',\n                      height: '100%',\n                      display: 'flex',\n                      position: 'absolute',\n                      alignItems: 'center',\n                      justifyContent: 'center',\n                      bgcolor: (theme) => alpha(theme.palette.grey[900], 0.8),\n                      transition: (theme) =>\n                        theme.transitions.create('opacity', {\n                          easing: theme.transitions.easing.easeInOut,\n                          duration: theme.transitions.duration.shorter\n                        }),\n                      ...(selected && {\n                        opacity: 1,\n                        color: 'primary.main'\n                      })\n                    }}\n                  >\n                    <Icon icon={checkmarkFill} width={20} height={20} />\n                  </Box>\n                </Box>\n                <Box sx={{ ml: 2 }} />\n                {parts.map((part, index) => (\n                  <Typography key={index} variant=\"subtitle2\" color={part.highlight ? 'primary' : 'textPrimary'}>\n                    {part.text}\n                  </Typography>\n                ))}\n              </li>\n            );\n          }}\n          renderTags={(recipients, getTagProps) =>\n            recipients.map((recipient, index) => {\n              const { id, name, avatar } = recipient;\n              return (\n                <Chip\n                  {...getTagProps({ index })}\n                  key={id}\n                  size=\"small\"\n                  label={name}\n                  color=\"info\"\n                  avatar={<Avatar alt={name} src={avatar} />}\n                />\n              );\n            })\n          }\n          renderInput={(params) => <TextField {...params} placeholder={recipients.length === 0 ? 'Recipients' : ''} />}\n        />\n      </AutocompleteStyle>\n    </RootStyle>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport { capitalCase } from 'change-case';\nimport videoFill from '@iconify/icons-eva/video-fill';\nimport phoneFill from '@iconify/icons-eva/phone-fill';\nimport moreVerticalFill from '@iconify/icons-eva/more-vertical-fill';\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\n// material\nimport { styled } from '@mui/material/styles';\nimport { Box, Link, Avatar, Typography, AvatarGroup } from '@mui/material';\n// utils\nimport { fToNow } from '../../../utils/formatTime';\n//\nimport { MIconButton } from '../../@material-extend';\nimport BadgeStatus from '../../BadgeStatus';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  flexShrink: 0,\n  minHeight: 92,\n  display: 'flex',\n  alignItems: 'center',\n  padding: theme.spacing(0, 3)\n}));\n\n// ----------------------------------------------------------------------\n\nOneAvatar.propTypes = {\n  participants: PropTypes.array\n};\n\nfunction OneAvatar({ participants }) {\n  const participant = [...participants][0];\n\n  if (participant === undefined) {\n    return null;\n  }\n\n  return (\n    <Box sx={{ display: 'flex', alignItems: 'center' }}>\n      <Box sx={{ position: 'relative' }}>\n        <Avatar src={participant.avatar} alt={participant.name} />\n        <BadgeStatus status={participant.status} sx={{ position: 'absolute', right: 2, bottom: 2 }} />\n      </Box>\n      <Box sx={{ ml: 2 }}>\n        <Typography variant=\"subtitle2\">{participant.name}</Typography>\n        <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\n          {participant.status !== 'offline' ? capitalCase(participant.status) : fToNow(participant.lastActivity)}\n        </Typography>\n      </Box>\n    </Box>\n  );\n}\n\nGroupAvatar.propTypes = {\n  participants: PropTypes.array\n};\n\nfunction GroupAvatar({ participants }) {\n  return (\n    <div>\n      <AvatarGroup\n        max={3}\n        sx={{\n          mb: 0.5,\n          '& .MuiAvatar-root': { width: 32, height: 32 }\n        }}\n      >\n        {participants.map((participant) => (\n          <Avatar key={participant.id} alt={participant.name} src={participant.avatar} />\n        ))}\n      </AvatarGroup>\n      <Link variant=\"body2\" underline=\"none\" component=\"button\" color=\"text.secondary\" onClick={() => {}}>\n        <Box sx={{ display: 'flex', alignItems: 'center' }}>\n          {participants.length} persons\n          <Icon icon={arrowIosForwardFill} />\n        </Box>\n      </Link>\n    </div>\n  );\n}\n\nChatHeaderDetail.propTypes = {\n  participants: PropTypes.array\n};\n\nexport default function ChatHeaderDetail({ participants, ...other }) {\n  const isGroup = participants.length > 1;\n\n  return (\n    <RootStyle {...other}>\n      {isGroup ? <GroupAvatar participants={participants} /> : <OneAvatar participants={participants} />}\n\n      <Box sx={{ flexGrow: 1 }} />\n      <MIconButton>\n        <Icon icon={phoneFill} width={20} height={20} />\n      </MIconButton>\n      <MIconButton>\n        <Icon icon={videoFill} width={20} height={20} />\n      </MIconButton>\n      <MIconButton>\n        <Icon icon={moreVerticalFill} width={20} height={20} />\n      </MIconButton>\n    </RootStyle>\n  );\n}\n","import { v4 as uuidv4 } from 'uuid';\nimport PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport { useRef, useState } from 'react';\nimport micFill from '@iconify/icons-eva/mic-fill';\nimport roundSend from '@iconify/icons-ic/round-send';\nimport attach2Fill from '@iconify/icons-eva/attach-2-fill';\nimport roundAddPhotoAlternate from '@iconify/icons-ic/round-add-photo-alternate';\n// material\nimport { styled } from '@mui/material/styles';\nimport { Input, Divider, IconButton, InputAdornment, Stack } from '@mui/material';\n//\nimport EmojiPicker from '../../EmojiPicker';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  minHeight: 56,\n  display: 'flex',\n  position: 'relative',\n  alignItems: 'center',\n  paddingLeft: theme.spacing(2)\n}));\n\n// ----------------------------------------------------------------------\n\nChatMessageInput.propTypes = {\n  disabled: PropTypes.bool,\n  conversationId: PropTypes.string,\n  onSend: PropTypes.func\n};\n\nexport default function ChatMessageInput({ disabled, conversationId, onSend, ...other }) {\n  const fileInputRef = useRef(null);\n  const [message, setMessage] = useState('');\n\n  const handleAttach = () => {\n    fileInputRef.current.click();\n  };\n\n  const handleChangeMessage = (event) => {\n    setMessage(event.target.value);\n  };\n\n  const handleKeyUp = (event) => {\n    if (event.key === 'Enter') {\n      handleSend();\n    }\n  };\n\n  const handleSend = () => {\n    if (!message) {\n      return '';\n    }\n    if (onSend) {\n      onSend({\n        conversationId,\n        messageId: uuidv4(),\n        message,\n        contentType: 'text',\n        attachments: [],\n        createdAt: new Date(),\n        senderId: '8864c717-587d-472a-929a-8e5f298024da-0'\n      });\n    }\n    return setMessage('');\n  };\n\n  return (\n    <RootStyle {...other}>\n      <Input\n        disabled={disabled}\n        fullWidth\n        value={message}\n        disableUnderline\n        onKeyUp={handleKeyUp}\n        onChange={handleChangeMessage}\n        placeholder=\"Type a message\"\n        startAdornment={\n          <InputAdornment position=\"start\">\n            <EmojiPicker disabled={disabled} value={message} setValue={setMessage} />\n          </InputAdornment>\n        }\n        endAdornment={\n          <Stack direction=\"row\" spacing={0.5} mr={1.5}>\n            <IconButton disabled={disabled} size=\"small\" onClick={handleAttach}>\n              <Icon icon={roundAddPhotoAlternate} width={24} height={24} />\n            </IconButton>\n            <IconButton disabled={disabled} size=\"small\" onClick={handleAttach}>\n              <Icon icon={attach2Fill} width={24} height={24} />\n            </IconButton>\n            <IconButton disabled={disabled} size=\"small\">\n              <Icon icon={micFill} width={24} height={24} />\n            </IconButton>\n          </Stack>\n        }\n        sx={{ height: '100%' }}\n      />\n\n      <Divider orientation=\"vertical\" flexItem />\n\n      <IconButton color=\"primary\" disabled={!message} onClick={handleSend} sx={{ mx: 1 }}>\n        <Icon icon={roundSend} width={24} height={24} />\n      </IconButton>\n\n      <input type=\"file\" ref={fileInputRef} style={{ display: 'none' }} />\n    </RootStyle>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { formatDistanceToNowStrict } from 'date-fns';\n// material\nimport { styled } from '@mui/material/styles';\nimport { Avatar, Box, Typography } from '@mui/material';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  display: 'flex',\n  marginBottom: theme.spacing(3)\n}));\n\nconst ContentStyle = styled('div')(({ theme }) => ({\n  maxWidth: 320,\n  padding: theme.spacing(1.5),\n  marginTop: theme.spacing(0.5),\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: theme.palette.background.neutral\n}));\n\nconst InfoStyle = styled(Typography)(({ theme }) => ({\n  display: 'flex',\n  marginBottom: theme.spacing(0.75),\n  color: theme.palette.text.secondary\n}));\n\nconst MessageImgStyle = styled('img')(({ theme }) => ({\n  width: '100%',\n  cursor: 'pointer',\n  objectFit: 'cover',\n  borderRadius: theme.shape.borderRadius,\n  [theme.breakpoints.up('md')]: {\n    height: 200,\n    minWidth: 296\n  }\n}));\n\n// ----------------------------------------------------------------------\n\nChatMessageItem.propTypes = {\n  message: PropTypes.object.isRequired,\n  conversation: PropTypes.object.isRequired,\n  onOpenLightbox: PropTypes.func\n};\n\nexport default function ChatMessageItem({ message, conversation, onOpenLightbox }) {\n  const sender = conversation.participants.find((participant) => participant.id === message.senderId);\n  const senderDetails =\n    message.senderId === '8864c717-587d-472a-929a-8e5f298024da-0'\n      ? { type: 'me' }\n      : { avatar: sender?.avatar, name: sender?.name };\n\n  const isMe = senderDetails.type === 'me';\n  const isImage = message.contentType === 'image';\n  const firstName = senderDetails.name && senderDetails.name.split(' ')[0];\n\n  return (\n    <RootStyle>\n      <Box\n        sx={{\n          display: 'flex',\n          ...(isMe && {\n            ml: 'auto'\n          })\n        }}\n      >\n        {senderDetails.type !== 'me' && (\n          <Avatar alt={senderDetails.name} src={senderDetails.avatar} sx={{ width: 32, height: 32, mr: 2 }} />\n        )}\n\n        <div>\n          <InfoStyle variant=\"caption\" sx={{ ...(isMe && { justifyContent: 'flex-end' }) }}>\n            {!isMe && `${firstName},`}&nbsp;\n            {formatDistanceToNowStrict(new Date(message.createdAt), {\n              addSuffix: true\n            })}\n          </InfoStyle>\n\n          <ContentStyle\n            sx={{\n              ...(isMe && { color: 'grey.800', bgcolor: 'primary.lighter' }),\n              ...(isImage && { p: 0 })\n            }}\n          >\n            {isImage ? (\n              <MessageImgStyle alt=\"attachment\" src={message.body} onClick={() => onOpenLightbox(message.body)} />\n            ) : (\n              <Typography variant=\"body2\">{message.body}</Typography>\n            )}\n          </ContentStyle>\n        </div>\n      </Box>\n    </RootStyle>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { findIndex } from 'lodash';\nimport { useEffect, useState, useRef } from 'react';\n//\nimport Scrollbar from '../../Scrollbar';\nimport LightboxModal from '../../LightboxModal';\nimport ChatMessageItem from './ChatMessageItem';\n\n// ----------------------------------------------------------------------\n\nChatMessageList.propTypes = {\n  conversation: PropTypes.object.isRequired\n};\n\nexport default function ChatMessageList({ conversation }) {\n  const scrollRef = useRef();\n  const [openLightbox, setOpenLightbox] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(null);\n\n  useEffect(() => {\n    const scrollMessagesToBottom = () => {\n      if (scrollRef.current) {\n        scrollRef.current.scrollTop = scrollRef.current.scrollHeight;\n      }\n    };\n    scrollMessagesToBottom();\n  }, [conversation.messages]);\n\n  const images = conversation.messages\n    .filter((messages) => messages.contentType === 'image')\n    .map((messages) => messages.body);\n\n  const handleOpenLightbox = (url) => {\n    const selectedImage = findIndex(images, (index) => index === url);\n    setOpenLightbox(true);\n    setSelectedImage(selectedImage);\n  };\n\n  return (\n    <>\n      <Scrollbar scrollableNodeProps={{ ref: scrollRef }} sx={{ p: 3, height: 1 }}>\n        {conversation.messages.map((message) => (\n          <ChatMessageItem\n            key={message.id}\n            message={message}\n            conversation={conversation}\n            onOpenLightbox={handleOpenLightbox}\n          />\n        ))}\n      </Scrollbar>\n\n      <LightboxModal\n        images={images}\n        photoIndex={selectedImage}\n        setPhotoIndex={setSelectedImage}\n        isOpen={openLightbox}\n        onClose={() => setOpenLightbox(false)}\n      />\n    </>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport { uniq, flatten } from 'lodash';\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\nimport arrowIosDownwardFill from '@iconify/icons-eva/arrow-ios-downward-fill';\n// material\nimport { styled } from '@mui/material/styles';\nimport { Box, Button, Divider, Collapse, Typography } from '@mui/material';\n// utils\nimport { fDateTime } from '../../../utils/formatTime';\nimport { getFileFullName, getFileThumb } from '../../../utils/getFileFormat';\n//\nimport Scrollbar from '../../Scrollbar';\n\n// ----------------------------------------------------------------------\n\nconst RootStyle = styled('div')(({ theme }) => ({\n  flexGrow: 1,\n  height: '100%',\n  display: 'flex',\n  overflow: 'hidden',\n  flexDirection: 'column',\n  paddingBottom: theme.spacing(2)\n}));\n\nconst FileItemStyle = styled('div')(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  marginTop: theme.spacing(2),\n  padding: theme.spacing(0, 2.5)\n}));\n\nconst FileThumbStyle = styled('div')(({ theme }) => ({\n  width: 40,\n  height: 40,\n  flexShrink: 0,\n  display: 'flex',\n  overflow: 'hidden',\n  alignItems: 'center',\n  justifyContent: 'center',\n  color: theme.palette.text.secondary,\n  borderRadius: theme.shape.borderRadius,\n  backgroundColor: theme.palette.grey[500_16]\n}));\n\nconst CollapseButtonStyle = styled(Button)(({ theme }) => ({\n  ...theme.typography.overline,\n  height: 40,\n  flexShrink: 0,\n  borderRadius: 0,\n  padding: theme.spacing(1, 2),\n  justifyContent: 'space-between',\n  color: theme.palette.text.disabled\n}));\n\n// ----------------------------------------------------------------------\n\nAttachmentItem.propTypes = {\n  file: PropTypes.object,\n  fileUrl: PropTypes.string\n};\n\nfunction AttachmentItem({ file, fileUrl }) {\n  return (\n    <FileItemStyle key={fileUrl}>\n      <FileThumbStyle>{getFileThumb(fileUrl)}</FileThumbStyle>\n      <Box sx={{ ml: 1.5, maxWidth: 150 }}>\n        <Typography variant=\"body2\" noWrap>\n          {getFileFullName(fileUrl)}\n        </Typography>\n        <Typography noWrap variant=\"caption\" sx={{ color: 'text.secondary', display: 'block' }}>\n          {fDateTime(file.createdAt)}\n        </Typography>\n      </Box>\n    </FileItemStyle>\n  );\n}\n\nChatRoomAttachment.propTypes = {\n  conversation: PropTypes.object.isRequired,\n  isCollapse: PropTypes.bool,\n  onCollapse: PropTypes.func\n};\n\nexport default function ChatRoomAttachment({ conversation, isCollapse, onCollapse, ...other }) {\n  const totalAttachment = uniq(flatten(conversation.messages.map((item) => item.attachments))).length;\n\n  return (\n    <RootStyle {...other}>\n      <CollapseButtonStyle\n        fullWidth\n        color=\"inherit\"\n        onClick={onCollapse}\n        endIcon={<Icon icon={isCollapse ? arrowIosDownwardFill : arrowIosForwardFill} width={16} height={16} />}\n      >\n        attachment ({totalAttachment})\n      </CollapseButtonStyle>\n\n      {!isCollapse && <Divider />}\n\n      <Scrollbar>\n        <Collapse in={isCollapse}>\n          {conversation.messages.map((file) => (\n            <div key={file.id}>\n              {file.attachments.map((fileUrl) => (\n                <AttachmentItem key={fileUrl} file={file} fileUrl={fileUrl} />\n              ))}\n            </div>\n          ))}\n        </Collapse>\n      </Scrollbar>\n    </RootStyle>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport pinFill from '@iconify/icons-eva/pin-fill';\nimport phoneFill from '@iconify/icons-eva/phone-fill';\nimport emailFill from '@iconify/icons-eva/email-fill';\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\nimport arrowIosDownwardFill from '@iconify/icons-eva/arrow-ios-downward-fill';\n// material\nimport { styled } from '@mui/material/styles';\nimport { Box, Avatar, Button, Divider, Collapse, Typography, Stack } from '@mui/material';\n\n// ----------------------------------------------------------------------\n\nconst CollapseButtonStyle = styled(Button)(({ theme }) => ({\n  ...theme.typography.overline,\n  height: 40,\n  borderRadius: 0,\n  padding: theme.spacing(1, 2),\n  justifyContent: 'space-between',\n  color: theme.palette.text.disabled\n}));\n\nconst RowIconStyle = styled(Icon)(({ theme }) => ({\n  width: 16,\n  height: 16,\n  marginTop: 4,\n  color: theme.palette.text.secondary\n}));\n\nconst RowTextStyle = styled(Typography)(({ theme }) => ({\n  flexGrow: 1,\n  maxWidth: 160,\n  wordWrap: 'break-word',\n  ...theme.typography.body2\n}));\n\n// ----------------------------------------------------------------------\n\nChatRoomOneParticipant.propTypes = {\n  participants: PropTypes.array.isRequired,\n  isCollapse: PropTypes.bool,\n  onCollapse: PropTypes.func\n};\n\nexport default function ChatRoomOneParticipant({ participants, isCollapse, onCollapse, ...other }) {\n  const participant = [...participants][0];\n\n  if (participant === undefined) {\n    return null;\n  }\n\n  return (\n    <Box {...other}>\n      <Box\n        sx={{\n          pt: 4,\n          pb: 3,\n          display: 'flex',\n          alignItems: 'center',\n          flexDirection: 'column'\n        }}\n      >\n        <Avatar alt={participant.name} src={participant.avatar} sx={{ width: 96, height: 96 }} />\n        <Box sx={{ mt: 2, textAlign: 'center' }}>\n          <Typography variant=\"subtitle1\">{participant.name}</Typography>\n          <Typography variant=\"body2\" sx={{ color: 'text.secondary' }}>\n            {participant.position}\n          </Typography>\n        </Box>\n      </Box>\n\n      <Divider />\n\n      <CollapseButtonStyle\n        fullWidth\n        color=\"inherit\"\n        onClick={onCollapse}\n        endIcon={<Icon icon={isCollapse ? arrowIosDownwardFill : arrowIosForwardFill} width={16} height={16} />}\n      >\n        information\n      </CollapseButtonStyle>\n\n      <Collapse in={isCollapse}>\n        <Stack spacing={2} sx={{ p: 2.5, pt: 1 }}>\n          <Stack direction=\"row\" spacing={1}>\n            <RowIconStyle icon={pinFill} />\n            <RowTextStyle>{participant.address}</RowTextStyle>\n          </Stack>\n          <Stack direction=\"row\" spacing={1}>\n            <RowIconStyle icon={phoneFill} />\n            <RowTextStyle>{participant.phone}</RowTextStyle>\n          </Stack>\n          <Stack direction=\"row\" spacing={1}>\n            <RowIconStyle icon={emailFill} />\n            <RowTextStyle>{participant.email}</RowTextStyle>\n          </Stack>\n        </Stack>\n      </Collapse>\n    </Box>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport pinFill from '@iconify/icons-eva/pin-fill';\nimport phoneFill from '@iconify/icons-eva/phone-fill';\nimport emailFill from '@iconify/icons-eva/email-fill';\n// material\nimport { styled } from '@mui/material/styles';\nimport { Avatar, Typography, DialogContent } from '@mui/material';\n//\nimport { DialogAnimate } from '../../animate';\n\n// ----------------------------------------------------------------------\n\nconst RowStyle = styled('div')(({ theme }) => ({\n  display: 'flex',\n  alignItems: 'center',\n  justifyContent: 'center',\n  marginTop: theme.spacing(1.5)\n}));\n\nconst IconStyle = styled(Icon)(({ theme }) => ({\n  width: 16,\n  height: 16,\n  marginRight: theme.spacing(1),\n  color: theme.palette.text.secondary\n}));\n\n// ----------------------------------------------------------------------\n\nChatRoomPopup.propTypes = {\n  participant: PropTypes.object,\n  isOpen: PropTypes.bool,\n  onClose: PropTypes.func\n};\n\nexport default function ChatRoomPopup({ participant, isOpen, onClose, ...other }) {\n  const { name, avatar, position, address, phone, email } = participant;\n\n  return (\n    <DialogAnimate fullWidth maxWidth=\"xs\" open={isOpen} onClose={onClose} {...other}>\n      <DialogContent sx={{ pb: 5, textAlign: 'center' }}>\n        <Avatar\n          alt={name}\n          src={avatar}\n          sx={{\n            mt: 5,\n            mb: 2,\n            mx: 'auto',\n            width: 96,\n            height: 96\n          }}\n        />\n        <Typography variant=\"h6\">{name}</Typography>\n        <Typography variant=\"body2\" paragraph sx={{ color: 'text.secondary' }}>\n          {position}\n        </Typography>\n\n        <RowStyle>\n          <IconStyle icon={pinFill} />\n          <Typography variant=\"body2\">{address}</Typography>\n        </RowStyle>\n        <RowStyle>\n          <IconStyle icon={phoneFill} />\n          <Typography variant=\"body2\">{phone}</Typography>\n        </RowStyle>\n        <RowStyle>\n          <IconStyle icon={emailFill} />\n          <Typography variant=\"body2\">{email}</Typography>\n        </RowStyle>\n      </DialogContent>\n    </DialogAnimate>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\nimport arrowIosDownwardFill from '@iconify/icons-eva/arrow-ios-downward-fill';\n// material\nimport { styled } from '@mui/material/styles';\nimport { Box, List, Avatar, Button, Collapse, ListItemText, ListItemAvatar, ListItemButton } from '@mui/material';\n//\nimport Scrollbar from '../../Scrollbar';\nimport BadgeStatus from '../../BadgeStatus';\nimport ChatRoomPopup from './ChatRoomPopup';\n\n// ----------------------------------------------------------------------\n\nconst HEIGHT = 64;\n\nconst CollapseButtonStyle = styled(Button)(({ theme }) => ({\n  ...theme.typography.overline,\n  height: 40,\n  borderRadius: 0,\n  padding: theme.spacing(1, 2),\n  justifyContent: 'space-between',\n  color: theme.palette.text.disabled\n}));\n\n// ----------------------------------------------------------------------\n\nParticipant.propTypes = {\n  participant: PropTypes.object.isRequired,\n  isOpen: PropTypes.bool,\n  onClosePopup: PropTypes.func,\n  onShowPopup: PropTypes.func\n};\nfunction Participant({ participant, isOpen, onClosePopup, onShowPopup }) {\n  const { name, avatar, status, position } = participant;\n\n  return (\n    <>\n      <ListItemButton onClick={onShowPopup} sx={{ height: HEIGHT, px: 2.5 }}>\n        <ListItemAvatar>\n          <Box sx={{ position: 'relative', width: 40, height: 40 }}>\n            <Avatar alt={name} src={avatar} />\n            <BadgeStatus status={status} sx={{ right: 0, bottom: 0, position: 'absolute' }} />\n          </Box>\n        </ListItemAvatar>\n        <ListItemText\n          primary={name}\n          secondary={position}\n          primaryTypographyProps={{ variant: 'subtitle2', noWrap: true }}\n          secondaryTypographyProps={{ noWrap: true }}\n        />\n      </ListItemButton>\n      <ChatRoomPopup participant={participant} isOpen={isOpen} onClose={onClosePopup} />\n    </>\n  );\n}\n\nChatRoomGroupParticipant.propTypes = {\n  participants: PropTypes.array.isRequired,\n  selectUserId: PropTypes.string,\n  onShowPopupUserInfo: PropTypes.func,\n  isCollapse: PropTypes.bool,\n  onCollapse: PropTypes.func\n};\n\nexport default function ChatRoomGroupParticipant({\n  participants,\n  selectUserId,\n  onShowPopupUserInfo,\n  isCollapse,\n  onCollapse\n}) {\n  return (\n    <>\n      <CollapseButtonStyle\n        fullWidth\n        disableRipple\n        color=\"inherit\"\n        onClick={onCollapse}\n        endIcon={<Icon icon={isCollapse ? arrowIosDownwardFill : arrowIosForwardFill} width={16} height={16} />}\n      >\n        In room ({participants.length})\n      </CollapseButtonStyle>\n\n      <Box sx={{ height: isCollapse ? HEIGHT * 4 : 0 }}>\n        <Scrollbar>\n          <Collapse in={isCollapse} sx={{ height: isCollapse ? HEIGHT * 4 : 0 }}>\n            <List disablePadding>\n              {participants.map((participant) => (\n                <Participant\n                  key={participant.id}\n                  participant={participant}\n                  isOpen={selectUserId === participant.id}\n                  onShowPopup={() => onShowPopupUserInfo(participant.id)}\n                  onClosePopup={() => onShowPopupUserInfo(null)}\n                />\n              ))}\n            </List>\n          </Collapse>\n        </Scrollbar>\n      </Box>\n    </>\n  );\n}\n","import PropTypes from 'prop-types';\nimport { Icon } from '@iconify/react';\nimport { useState, useEffect } from 'react';\nimport arrowIosBackFill from '@iconify/icons-eva/arrow-ios-back-fill';\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\n// material\nimport { useTheme, styled } from '@mui/material/styles';\nimport { Box, Drawer, Divider, IconButton, useMediaQuery } from '@mui/material';\n// components\nimport { MHidden } from '../../@material-extend';\n//\nimport ChatRoomAttachment from './ChatRoomAttachment';\nimport ChatRoomOneParticipant from './ChatRoomOneParticipant';\nimport ChatRoomGroupParticipant from './ChatRoomGroupParticipant';\n\n// ----------------------------------------------------------------------\n\nconst DRAWER_WIDTH = 240;\n\nconst ToggleButtonStyle = styled((props) => <IconButton disableRipple {...props} />)(({ theme }) => ({\n  right: 0,\n  zIndex: 9,\n  width: 32,\n  height: 32,\n  position: 'absolute',\n  top: theme.spacing(1),\n  boxShadow: theme.customShadows.z8,\n  backgroundColor: theme.palette.background.paper,\n  border: `solid 1px ${theme.palette.divider}`,\n  borderRight: 0,\n  borderRadius: `12px 0 0 12px`,\n  transition: theme.transitions.create('all'),\n  '&:hover': {\n    backgroundColor: theme.palette.background.neutral\n  }\n}));\n\n// ----------------------------------------------------------------------\n\nChatRoom.propTypes = {\n  conversation: PropTypes.object.isRequired,\n  participants: PropTypes.array.isRequired\n};\n\nexport default function ChatRoom({ conversation, participants }) {\n  const theme = useTheme();\n\n  const [openSidebar, setOpenSidebar] = useState(true);\n  const [showInfo, setShowInfo] = useState(true);\n  const [selectUser, setSelectUser] = useState(null);\n  const [showAttachment, setShowAttachment] = useState(true);\n  const [showParticipants, setShowParticipants] = useState(true);\n\n  const isMobile = useMediaQuery(theme.breakpoints.down('lg'));\n  const isGroup = participants.length > 1;\n\n  useEffect(() => {\n    if (isMobile) {\n      return handleCloseSidebar();\n    }\n    return handleOpenSidebar();\n  }, [isMobile]);\n\n  const handleOpenSidebar = () => {\n    setOpenSidebar(true);\n  };\n\n  const handleCloseSidebar = () => {\n    setOpenSidebar(false);\n  };\n\n  const handleToggleSidebar = () => {\n    setOpenSidebar((prev) => !prev);\n  };\n\n  const renderContent = (\n    <>\n      {isGroup ? (\n        <ChatRoomGroupParticipant\n          selectUserId={selectUser}\n          participants={participants}\n          isCollapse={showParticipants}\n          onShowPopupUserInfo={(participantId) => setSelectUser(participantId)}\n          onCollapse={() => setShowParticipants((prev) => !prev)}\n        />\n      ) : (\n        <div>\n          <ChatRoomOneParticipant\n            participants={participants}\n            isCollapse={showInfo}\n            onCollapse={() => setShowInfo((prev) => !prev)}\n          />\n        </div>\n      )}\n      <Divider />\n\n      <ChatRoomAttachment\n        conversation={conversation}\n        isCollapse={showAttachment}\n        onCollapse={() => setShowAttachment((prev) => !prev)}\n      />\n    </>\n  );\n\n  return (\n    <Box sx={{ position: 'relative' }}>\n      <ToggleButtonStyle\n        onClick={handleToggleSidebar}\n        sx={{\n          ...(openSidebar && !isMobile && { right: DRAWER_WIDTH })\n        }}\n      >\n        <Icon width={16} height={16} icon={openSidebar ? arrowIosForwardFill : arrowIosBackFill} />\n      </ToggleButtonStyle>\n\n      <MHidden width=\"lgUp\">\n        <Drawer\n          anchor=\"right\"\n          ModalProps={{ keepMounted: true }}\n          open={openSidebar}\n          onClose={handleCloseSidebar}\n          sx={{\n            '& .MuiDrawer-paper': {\n              width: DRAWER_WIDTH\n            }\n          }}\n        >\n          {renderContent}\n        </Drawer>\n      </MHidden>\n\n      <MHidden width=\"lgDown\">\n        <Drawer\n          open={openSidebar}\n          anchor=\"right\"\n          variant=\"persistent\"\n          sx={{\n            height: 1,\n            width: DRAWER_WIDTH,\n            transition: theme.transitions.create('width'),\n            ...(!openSidebar && { width: '0px' }),\n            '& .MuiDrawer-paper': {\n              position: 'static',\n              width: DRAWER_WIDTH\n            }\n          }}\n        >\n          {renderContent}\n        </Drawer>\n      </MHidden>\n    </Box>\n  );\n}\n","import PropTypes from 'prop-types';\n// material\nimport { List, Avatar, Typography, ListItemText, ListItemAvatar, ListItemButton } from '@mui/material';\n//\nimport SearchNotFound from '../../SearchNotFound';\n\n// ----------------------------------------------------------------------\n\nChatSearchResults.propTypes = {\n  query: PropTypes.string,\n  results: PropTypes.array,\n  onSelectContact: PropTypes.func\n};\n\nexport default function ChatSearchResults({ query, results, onSelectContact }) {\n  const isFound = results.length > 0;\n\n  return (\n    <>\n      <Typography paragraph variant=\"subtitle1\" sx={{ px: 3, color: 'text.secondary' }}>\n        Contacts\n      </Typography>\n\n      <List disablePadding>\n        {results.map((result) => (\n          <ListItemButton\n            key={result.id}\n            onClick={() => onSelectContact(result)}\n            sx={{\n              py: 1.5,\n              px: 3\n            }}\n          >\n            <ListItemAvatar>\n              <Avatar alt={result.name} src={result.avatar} />\n            </ListItemAvatar>\n            <ListItemText\n              primary={result.name}\n              primaryTypographyProps={{\n                noWrap: true,\n                variant: 'subtitle2'\n              }}\n            />\n          </ListItemButton>\n        ))}\n      </List>\n      {!isFound && (\n        <SearchNotFound\n          searchQuery={query}\n          sx={{\n            p: 3,\n            mx: 'auto',\n            width: `calc(100% - 48px)`,\n            bgcolor: 'background.neutral'\n          }}\n        />\n      )}\n    </>\n  );\n}\n","import { useState, useEffect } from 'react';\nimport { useNavigate, Link as RouterLink, useLocation } from 'react-router-dom';\nimport { Icon } from '@iconify/react';\nimport editFill from '@iconify/icons-eva/edit-fill';\nimport peopleFill from '@iconify/icons-eva/people-fill';\nimport arrowIosBackFill from '@iconify/icons-eva/arrow-ios-back-fill';\nimport arrowIosForwardFill from '@iconify/icons-eva/arrow-ios-forward-fill';\n// material\nimport { useTheme, styled } from '@mui/material/styles';\nimport { Box, useMediaQuery, Stack, Drawer, IconButton } from '@mui/material';\n// redux\nimport { useSelector } from '../../../redux/store';\n// utils\nimport axios from '../../../utils/axios';\n// routes\nimport { PATH_DASHBOARD } from '../../../routes/paths';\n//\nimport { MIconButton, MHidden } from '../../@material-extend';\nimport Scrollbar from '../../Scrollbar';\nimport ChatAccount from './ChatAccount';\nimport ChatSearchResults from './ChatSearchResults';\nimport ChatContactSearch from './ChatContactSearch';\nimport ChatConversationList from './ChatConversationList';\n\n// ----------------------------------------------------------------------\n\nconst DRAWER_WIDTH = 320;\nconst COLLAPSE_WIDTH = 96;\n\nconst ToggleButtonStyle = styled((props) => <IconButton disableRipple {...props} />)(({ theme }) => ({\n  left: 0,\n  zIndex: 9,\n  width: 32,\n  height: 32,\n  position: 'absolute',\n  top: theme.spacing(13),\n  borderRadius: `0 12px 12px 0`,\n  color: theme.palette.primary.contrastText,\n  backgroundColor: theme.palette.primary.main,\n  boxShadow: theme.customShadows.primary,\n  '&:hover': {\n    backgroundColor: theme.palette.primary.darker\n  }\n}));\n\n// ----------------------------------------------------------------------\n\nexport default function ChatSidebar() {\n  const theme = useTheme();\n  const navigate = useNavigate();\n  const { pathname } = useLocation();\n\n  const [openSidebar, setOpenSidebar] = useState(true);\n  const [searchQuery, setSearchQuery] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearchFocused, setSearchFocused] = useState(false);\n  const { conversations, activeConversationId } = useSelector((state) => state.chat);\n\n  const displayResults = searchQuery && isSearchFocused;\n  const isMobile = useMediaQuery(theme.breakpoints.down('md'));\n  const isCollapse = !isMobile && !openSidebar;\n\n  useEffect(() => {\n    if (isMobile) {\n      return handleCloseSidebar();\n    }\n    return handleOpenSidebar();\n  }, [isMobile, pathname]);\n\n  // eslint-disable-next-line consistent-return\n  useEffect(() => {\n    if (!openSidebar) {\n      return setSearchFocused(false);\n    }\n  }, [openSidebar]);\n\n  const handleOpenSidebar = () => {\n    setOpenSidebar(true);\n  };\n\n  const handleCloseSidebar = () => {\n    setOpenSidebar(false);\n  };\n\n  const handleToggleSidebar = () => {\n    setOpenSidebar((prev) => !prev);\n  };\n\n  const handleClickAwaySearch = () => {\n    setSearchFocused(false);\n    setSearchQuery('');\n  };\n\n  const handleChangeSearch = async (event) => {\n    try {\n      const { value } = event.target;\n      setSearchQuery(value);\n      if (value) {\n        const response = await axios.get('/api/chat/search', {\n          params: { query: value }\n        });\n        setSearchResults(response.data.results);\n      } else {\n        setSearchResults([]);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const handleSearchFocus = () => {\n    setSearchFocused(true);\n  };\n\n  const handleSearchSelect = (username) => {\n    setSearchFocused(false);\n    setSearchQuery('');\n    navigate(`${PATH_DASHBOARD.chat.root}/${username}`);\n  };\n\n  const handleSelectContact = (result) => {\n    if (handleSearchSelect) {\n      handleSearchSelect(result.username);\n    }\n  };\n\n  const renderContent = (\n    <>\n      <Box sx={{ py: 2, px: 3 }}>\n        <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"center\">\n          {!isCollapse && (\n            <>\n              <ChatAccount />\n              <Box sx={{ flexGrow: 1 }} />\n            </>\n          )}\n\n          <MIconButton onClick={handleToggleSidebar}>\n            <Icon width={20} height={20} icon={openSidebar ? arrowIosBackFill : arrowIosForwardFill} />\n          </MIconButton>\n\n          {!isCollapse && (\n            <MIconButton\n              // @ts-ignore\n              to={PATH_DASHBOARD.chat.new}\n              component={RouterLink}\n            >\n              <Icon icon={editFill} width={20} height={20} />\n            </MIconButton>\n          )}\n        </Stack>\n\n        {!isCollapse && (\n          <ChatContactSearch\n            query={searchQuery}\n            onFocus={handleSearchFocus}\n            onChange={handleChangeSearch}\n            onClickAway={handleClickAwaySearch}\n          />\n        )}\n      </Box>\n\n      <Scrollbar>\n        {!displayResults ? (\n          <ChatConversationList\n            conversations={conversations}\n            isOpenSidebar={openSidebar}\n            activeConversationId={activeConversationId}\n            sx={{ ...(isSearchFocused && { display: 'none' }) }}\n          />\n        ) : (\n          <ChatSearchResults query={searchQuery} results={searchResults} onSelectContact={handleSelectContact} />\n        )}\n      </Scrollbar>\n    </>\n  );\n\n  return (\n    <>\n      <MHidden width=\"mdUp\">\n        <ToggleButtonStyle onClick={handleToggleSidebar}>\n          <Icon width={16} height={16} icon={peopleFill} />\n        </ToggleButtonStyle>\n      </MHidden>\n\n      {/* Mobile */}\n      <MHidden width=\"mdUp\">\n        <Drawer\n          ModalProps={{ keepMounted: true }}\n          open={openSidebar}\n          onClose={handleCloseSidebar}\n          sx={{\n            '& .MuiDrawer-paper': { width: DRAWER_WIDTH }\n          }}\n        >\n          {renderContent}\n        </Drawer>\n      </MHidden>\n\n      {/* Desktop */}\n      <MHidden width=\"mdDown\">\n        <Drawer\n          open={openSidebar}\n          variant=\"persistent\"\n          sx={{\n            width: DRAWER_WIDTH,\n            transition: theme.transitions.create('width'),\n            '& .MuiDrawer-paper': {\n              position: 'static',\n              width: DRAWER_WIDTH\n            },\n            ...(isCollapse && {\n              width: COLLAPSE_WIDTH,\n              '& .MuiDrawer-paper': {\n                width: COLLAPSE_WIDTH,\n                position: 'static',\n                transform: 'none !important',\n                visibility: 'visible !important'\n              }\n            })\n          }}\n        >\n          {renderContent}\n        </Drawer>\n      </MHidden>\n    </>\n  );\n}\n","import { useEffect } from 'react';\nimport { useNavigate, useParams, useLocation } from 'react-router-dom';\n// material\nimport { Box, Divider, Stack } from '@mui/material';\n// redux\nimport { useDispatch, useSelector } from '../../../redux/store';\nimport {\n  addRecipients,\n  onSendMessage,\n  getConversation,\n  getParticipants,\n  markConversationAsRead,\n  resetActiveConversation\n} from '../../../redux/slices/chat';\n// routes\nimport { PATH_DASHBOARD } from '../../../routes/paths';\n//\nimport ChatRoom from './ChatRoom';\nimport ChatMessageList from './ChatMessageList';\nimport ChatHeaderDetail from './ChatHeaderDetail';\nimport ChatMessageInput from './ChatMessageInput';\nimport ChatHeaderCompose from './ChatHeaderCompose';\n\n// ----------------------------------------------------------------------\n\nconst conversationSelector = (state) => {\n  const { conversations, activeConversationId } = state.chat;\n  const conversation = activeConversationId ? conversations.byId[activeConversationId] : null;\n  if (conversation) {\n    return conversation;\n  }\n  const initState = {\n    id: '',\n    messages: [],\n    participants: [],\n    unreadCount: 0,\n    type: ''\n  };\n  return initState;\n};\n\nexport default function ChatWindow() {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { pathname } = useLocation();\n  const { conversationKey } = useParams();\n  const { contacts, recipients, participants, activeConversationId } = useSelector((state) => state.chat);\n  const conversation = useSelector((state) => conversationSelector(state));\n\n  const mode = conversationKey ? 'DETAIL' : 'COMPOSE';\n  const displayParticipants = participants.filter((item) => item.id !== '8864c717-587d-472a-929a-8e5f298024da-0');\n\n  useEffect(() => {\n    const getDetails = async () => {\n      dispatch(getParticipants(conversationKey));\n      try {\n        await dispatch(getConversation(conversationKey));\n      } catch (error) {\n        console.error(error);\n        navigate(PATH_DASHBOARD.chat.new);\n      }\n    };\n    if (conversationKey) {\n      getDetails();\n    } else if (activeConversationId) {\n      dispatch(resetActiveConversation());\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [conversationKey]);\n\n  useEffect(() => {\n    if (activeConversationId) {\n      dispatch(markConversationAsRead(activeConversationId));\n    }\n  }, [dispatch, activeConversationId]);\n\n  const handleAddRecipients = (recipients) => {\n    dispatch(addRecipients(recipients));\n  };\n\n  const handleSendMessage = async (value) => {\n    try {\n      dispatch(onSendMessage(value));\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  return (\n    <Stack sx={{ flexGrow: 1, minWidth: '1px' }}>\n      {mode === 'DETAIL' ? (\n        <ChatHeaderDetail participants={displayParticipants} />\n      ) : (\n        <ChatHeaderCompose\n          recipients={recipients}\n          contacts={Object.values(contacts.byId)}\n          onAddRecipients={handleAddRecipients}\n        />\n      )}\n\n      <Divider />\n\n      <Box sx={{ flexGrow: 1, display: 'flex', overflow: 'hidden' }}>\n        <Stack sx={{ flexGrow: 1 }}>\n          <ChatMessageList conversation={conversation} />\n\n          <Divider />\n\n          <ChatMessageInput\n            conversationId={activeConversationId}\n            onSend={handleSendMessage}\n            disabled={pathname === PATH_DASHBOARD.chat.new}\n          />\n        </Stack>\n\n        {mode === 'DETAIL' && <ChatRoom conversation={conversation} participants={displayParticipants} />}\n      </Box>\n    </Stack>\n  );\n}\n","import { useEffect } from 'react';\n// material\nimport { Card, Container } from '@mui/material';\n// redux\nimport { useDispatch } from '../../redux/store';\nimport { getConversations, getContacts } from '../../redux/slices/chat';\n// routes\nimport { PATH_DASHBOARD } from '../../routes/paths';\n// hooks\nimport useSettings from '../../hooks/useSettings';\n// components\nimport Page from '../../components/Page';\nimport HeaderBreadcrumbs from '../../components/HeaderBreadcrumbs';\nimport { ChatSidebar, ChatWindow } from '../../components/_dashboard/chat';\n\n// ----------------------------------------------------------------------\n\nexport default function Chat() {\n  const { themeStretch } = useSettings();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(getConversations());\n    dispatch(getContacts());\n  }, [dispatch]);\n\n  return (\n    <Page title=\"Chat | Minimal-UI\">\n      <Container maxWidth={themeStretch ? false : 'xl'}>\n        <HeaderBreadcrumbs\n          heading=\"Chat\"\n          links={[{ name: 'Dashboard', href: PATH_DASHBOARD.root }, { name: 'Chat' }]}\n        />\n        <Card sx={{ height: '72vh', display: 'flex' }}>\n          <ChatSidebar />\n          <ChatWindow />\n        </Card>\n      </Container>\n    </Page>\n  );\n}\n"],"sourceRoot":""}