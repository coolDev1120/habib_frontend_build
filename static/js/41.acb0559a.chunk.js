(this["webpackJsonp@minimal/minimal-kit-react"]=this["webpackJsonp@minimal/minimal-kit-react"]||[]).push([[41],{2185:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v}));var a=n(16),o=n(0),i=n(1353),r=n(281),c=n(171),l=n.n(c),s=n(1558),d=n(2129),u=n(2131),j=n(1325),b=n(455),h=n(48),m=n(6),f=n(82),x=n(1456),p=n.n(x),O=n(457),g=n(1),w=Object(m.a)("div")((function(e){var t=e.theme;return{backgroundColor:"".concat(Object(f.a)(t.palette.primary.main,.08))}}));function v(){var e=Object(o.useState)([]),t=Object(a.a)(e,2),n=t[0],c=t[1],m=Object(o.useState)(!1),f=Object(a.a)(m,2),x=f[0],v=f[1],y=Object(o.useState)(!1),k=Object(a.a)(y,2),C=k[0],N=k[1],S=Object(o.useState)([]),A=Object(a.a)(S,2),T=A[0],U=A[1],z=Object(o.useState)("0"),D=Object(a.a)(z,2),E=D[0],F=D[1],R=function(e){console.log(E,e),l.a.post("".concat("https://edf1-95-217-123-75.eu.ngrok.io","/changeRoleById"),{id:E,val:e}).then((function(e){N(!C)}))},B=[{field:"username",headerName:"Username",width:350},{field:"email",headerName:"Email",width:250},{field:"colourCode",headerName:"Colour Code",width:200,renderCell:function(e){return Object(g.jsx)(b.a,{sx:{padding:"6px",background:e.row.colourCode,borderRadius:"100%"}})},align:"center"},{field:"team",headerName:"Team",renderCell:function(e){for(var t in console.log(e.row.team,T),T)if(T[t].id===e.row.team)return Object(g.jsx)(g.Fragment,{children:T[t].name})},width:200},{field:"role",headerName:"Role",renderCell:function(e){return Object(g.jsx)(u.a,{value:e.row.role,style:{width:120},onClick:function(){return F(e.row.id)},onChange:R,options:[{value:"admin",label:"Admin"},{value:"user",label:"User"},{value:"supervisor",label:"Supervisor"}]})},width:200},{field:"action",headerName:"Action",renderCell:function(e){return Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)(h.b,{to:"/dashboard/account/edit/".concat(e.row.id),style:{textDecoration:"none"},children:Object(g.jsx)(i.a,{variant:"outlined",color:"primary",size:"small",style:{marginLeft:16},children:"Edit"})}),Object(g.jsx)(d.a,{title:"Delete the task",description:"Are you sure to delete this account?",onConfirm:function(){return I(e)},okText:"Yes",cancelText:"No",children:Object(g.jsx)(i.a,{variant:"outlined",color:"primary",size:"small",style:{marginLeft:16},children:"Delete"})})]})},sortable:!1,width:200}],I=function(e){console.log(e.row.id),l.a.post("".concat("https://edf1-95-217-123-75.eu.ngrok.io","/deleteAccount"),{id:e.row.id}).then((function(e){"success"===e.data.flag&&(j.a.config({top:100,duration:5}),j.a.success("Successfully deleted."),v(!x))}))};return Object(o.useEffect)((function(){return setTimeout((function(){N(!0)}),200),function(){l.a.post("".concat("https://edf1-95-217-123-75.eu.ngrok.io","/getusers")).then((function(e){c(e.data.data)})),l.a.post("".concat("https://edf1-95-217-123-75.eu.ngrok.io","/getEmailTeams")).then((function(e){U(e.data.result)}))}}),[x,C]),Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)(O.a,{title:"All Users",children:[Object(g.jsx)(w,{children:Object(g.jsx)(r.a,{color:"text.primary",sx:{fontSize:"23px",fontWeight:"bold",padding:"10px",mb:"20px"},children:"All Users"})}),Object(g.jsx)(b.a,{sx:{px:"20px"},children:Object(g.jsx)("div",{style:{marginTop:"20px",marginBottom:"20px",display:"flex"},children:Object(g.jsx)("div",{style:{flex:"1 1 0%",textAlign:"right"},children:Object(g.jsx)(h.b,{to:"/dashboard/account/add",style:{textDecoration:"none"},children:Object(g.jsx)(i.a,{className:"btn_info",variant:"contained",startIcon:Object(g.jsx)(p.a,{}),sx:{mb:"10px"},children:" Add New User "})})})})}),Object(g.jsx)("div",{style:{height:"700px",width:"100%"},children:Object(g.jsx)(s.a,{rows:n,columns:B,pageSize:10,rowsPerPageOptions:[10],components:{Toolbar:s.b}})})]})})}}}]);
//# sourceMappingURL=41.acb0559a.chunk.js.map